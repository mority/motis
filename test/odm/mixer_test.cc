#include "gtest/gtest.h"

#include "motis/odm/mixer/journeys.h"
#include "motis/odm/mixer/mixer.h"
#include "motis/odm/odm.h"

using namespace std::string_view_literals;
using namespace motis::odm;

TEST(odm, tally) {
  auto const ct = std::vector<cost_threshold>{{0, 30}, {1, 1}, {10, 2}};
  EXPECT_EQ(0, tally(0, ct));
  EXPECT_EQ(30, tally(1, ct));
  EXPECT_EQ(43, tally(12, ct));
}

std::vector<nigiri::routing::journey> mix(std::string_view csv) {
  auto odm_journeys = from_csv(csv);
  auto pt_journeys = nigiri::pareto_set<nigiri::routing::journey>{};
  for (auto j = begin(odm_journeys); j != end(odm_journeys);) {
    if (is_pure_pt(*j)) {
      pt_journeys.add(std::move(*j));
      j = odm_journeys.erase(j);
    } else {
      ++j;
    }
  }
  static auto const m = get_default_mixer();
  m.mix(pt_journeys, odm_journeys, nullptr);
  return odm_journeys;
}

void whitelist(std::vector<nigiri::routing::journey> const& mix_result,
               std::vector<nigiri::routing::journey> const& wl) {
  auto const expect_contained = [&](nigiri::routing::journey const& j) {
    auto const is_contained = utl::find(mix_result, j) != end(mix_result);
    EXPECT_TRUE(is_contained);
    if (!is_contained) {
      std::cout << "whitelisted: " << to_csv(j) << "\n";
    }
  };

  for (auto const& j : wl) {
    expect_contained(j);
  }
}

void blacklist(std::vector<nigiri::routing::journey> const& mix_result,
               std::vector<nigiri::routing::journey> const& bl) {
  auto const expect_removed = [&](nigiri::routing::journey const& j) {
    auto const is_contained = utl::find(mix_result, j) != end(mix_result);
    EXPECT_FALSE(is_contained);
    if (is_contained) {
      std::cout << "blacklisted: " << to_csv(j) << "\n";
    }
  };

  for (auto const& j : bl) {
    expect_removed(j);
  }
}

constexpr auto const pt_taxi_no_direct_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 10:10, 2025-06-16 10:20, 0, taxi, 10, walk, 00
2025-06-16 10:17, 2025-06-16 10:27, 0, taxi, 10, walk, 00
2025-06-16 10:17, 2025-06-16 11:00, 0, walk, 30, walk, 00
2025-06-16 10:43, 2025-06-16 10:53, 0, taxi, 10, walk, 00
2025-06-16 10:43, 2025-06-16 11:00, 0, taxi, 04, walk, 00
2025-06-16 10:50, 2025-06-16 11:00, 0, taxi, 10, walk, 00
2025-06-16 11:00, 2025-06-16 11:10, 0, taxi, 10, walk, 00
)__"sv;

constexpr auto const pt_taxi_no_direct_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 10:17, 2025-06-16 11:00, 0, walk, 30, walk, 00
2025-06-16 10:43, 2025-06-16 11:00, 0, taxi, 04, walk, 00
)__"sv;

constexpr auto const pt_taxi_no_direct_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 10:10, 2025-06-16 10:20, 0, taxi, 10, walk, 00
2025-06-16 10:17, 2025-06-16 10:27, 0, taxi, 10, walk, 00
2025-06-16 10:43, 2025-06-16 10:53, 0, taxi, 10, walk, 00
2025-06-16 10:50, 2025-06-16 11:00, 0, taxi, 10, walk, 00
2025-06-16 11:00, 2025-06-16 11:10, 0, taxi, 10, walk, 00
)__"sv;

TEST(odm, pt_taxi_no_direct) {
  auto const mix_result = mix(pt_taxi_no_direct_in);
  whitelist(mix_result, from_csv(pt_taxi_no_direct_whitelist));
  blacklist(mix_result, from_csv(pt_taxi_no_direct_blacklist));
}

constexpr auto const taxi_saves_transfers_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 10:00, 2025-06-16 11:00, 4, walk, 05, walk, 05
2025-06-16 10:14, 2025-06-16 11:00, 2, taxi, 06, walk, 05
2025-06-16 10:20, 2025-06-16 11:00, 1, taxi, 10, walk, 05
2025-06-16 10:30, 2025-06-16 11:00, 0, taxi, 15, walk, 05
)__"sv;

constexpr auto const taxi_saves_transfers_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 10:00, 2025-06-16 11:00, 4, walk, 05, walk, 05
)__"sv;

constexpr auto const taxi_saves_transfers_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 10:14, 2025-06-16 11:00, 2, taxi, 06, walk, 05
2025-06-16 10:20, 2025-06-16 11:00, 1, taxi, 10, walk, 05
2025-06-16 10:30, 2025-06-16 11:00, 0, taxi, 15, walk, 05
)__"sv;

TEST(odm, taxi_saves_transfers) {
  auto const mix_result = mix(taxi_saves_transfers_in);
  whitelist(mix_result, from_csv(taxi_saves_transfers_whitelist));
  blacklist(mix_result, from_csv(taxi_saves_transfers_blacklist));
}

constexpr auto const schleife_dresden_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:08, 2025-06-16 05:13, 2, taxi, 17, walk, 05
2025-06-16 02:26, 2025-06-16 05:18, 3, taxi, 05, walk, 05
2025-06-16 02:26, 2025-06-16 05:23, 2, taxi, 05, walk, 05
2025-06-16 02:27, 2025-06-16 05:13, 2, taxi, 28, walk, 05
2025-06-16 02:29, 2025-06-16 06:13, 3, walk, 09, walk, 05
2025-06-16 02:45, 2025-06-16 05:43, 2, taxi, 27, walk, 05
2025-06-16 03:19, 2025-06-16 06:13, 2, taxi, 05, walk, 05
2025-06-16 03:21, 2025-06-16 06:18, 3, taxi, 05, walk, 05
2025-06-16 03:21, 2025-06-16 06:23, 2, taxi, 05, walk, 05
2025-06-16 03:26, 2025-06-16 06:18, 4, taxi, 05, walk, 05
2025-06-16 03:26, 2025-06-16 06:23, 3, taxi, 05, walk, 05
2025-06-16 03:27, 2025-06-16 06:13, 2, taxi, 28, walk, 05
2025-06-16 04:14, 2025-06-16 07:18, 4, walk, 09, walk, 05
2025-06-16 04:14, 2025-06-16 07:23, 3, walk, 09, walk, 05
2025-06-16 04:19, 2025-06-16 07:13, 2, taxi, 05, walk, 05
2025-06-16 04:26, 2025-06-16 07:18, 3, taxi, 05, walk, 05
2025-06-16 04:26, 2025-06-16 07:23, 2, taxi, 05, walk, 05
2025-06-16 04:27, 2025-06-16 07:13, 2, taxi, 28, walk, 05
2025-06-16 04:29, 2025-06-16 08:13, 4, walk, 09, walk, 05
2025-06-16 04:29, 2025-06-16 08:23, 3, walk, 09, walk, 05
2025-06-16 05:15, 2025-06-16 08:18, 5, walk, 09, walk, 05
2025-06-16 05:15, 2025-06-16 08:23, 4, walk, 09, walk, 05
2025-06-16 05:19, 2025-06-16 08:13, 3, taxi, 05, walk, 05
2025-06-16 05:19, 2025-06-16 09:13, 3, walk, 10, walk, 05
2025-06-16 05:20, 2025-06-16 08:18, 4, taxi, 05, walk, 05
2025-06-16 05:20, 2025-06-16 08:23, 3, taxi, 05, walk, 05
2025-06-16 05:21, 2025-06-16 08:18, 3, taxi, 05, walk, 05
2025-06-16 05:21, 2025-06-16 08:23, 2, taxi, 05, walk, 05
2025-06-16 05:27, 2025-06-16 08:13, 3, taxi, 28, walk, 05
2025-06-16 06:14, 2025-06-16 09:18, 4, walk, 09, walk, 05
2025-06-16 06:14, 2025-06-16 09:23, 3, walk, 09, walk, 05
2025-06-16 06:19, 2025-06-16 09:13, 2, taxi, 05, walk, 05
2025-06-16 06:26, 2025-06-16 09:18, 3, taxi, 05, walk, 05
2025-06-16 06:26, 2025-06-16 09:23, 2, taxi, 05, walk, 05
2025-06-16 06:27, 2025-06-16 09:13, 2, taxi, 28, walk, 05
2025-06-16 06:29, 2025-06-16 10:13, 4, walk, 09, walk, 05
2025-06-16 06:29, 2025-06-16 10:23, 3, walk, 09, walk, 05
2025-06-16 07:19, 2025-06-16 10:13, 3, taxi, 05, walk, 05
2025-06-16 07:21, 2025-06-16 10:18, 3, taxi, 05, walk, 05
2025-06-16 07:21, 2025-06-16 10:23, 2, taxi, 05, walk, 05
2025-06-16 07:26, 2025-06-16 10:18, 4, taxi, 05, walk, 05
2025-06-16 07:26, 2025-06-16 10:23, 3, taxi, 05, walk, 05
2025-06-16 07:27, 2025-06-16 10:13, 3, taxi, 28, walk, 05
2025-06-16 07:27, 2025-06-16 10:22, 2, taxi, 28, walk, 06
2025-06-16 08:14, 2025-06-16 11:18, 4, walk, 09, walk, 05
2025-06-16 08:14, 2025-06-16 11:23, 3, walk, 09, walk, 05
2025-06-16 08:19, 2025-06-16 11:13, 2, taxi, 05, walk, 05
2025-06-16 08:26, 2025-06-16 11:18, 3, taxi, 05, walk, 05
2025-06-16 08:26, 2025-06-16 11:23, 2, taxi, 05, walk, 05
2025-06-16 08:27, 2025-06-16 11:13, 2, taxi, 28, walk, 05
2025-06-16 08:29, 2025-06-16 12:13, 4, walk, 09, walk, 05
2025-06-16 09:19, 2025-06-16 12:13, 3, taxi, 05, walk, 05
2025-06-16 09:21, 2025-06-16 12:18, 3, taxi, 05, walk, 05
2025-06-16 09:21, 2025-06-16 12:23, 2, taxi, 05, walk, 05
2025-06-16 09:25, 2025-06-16 12:18, 4, taxi, 04, walk, 05
2025-06-16 09:25, 2025-06-16 12:23, 3, taxi, 04, walk, 05
2025-06-16 09:26, 2025-06-16 12:18, 4, walk, 09, walk, 05
2025-06-16 09:26, 2025-06-16 12:23, 3, walk, 09, walk, 05
2025-06-16 09:27, 2025-06-16 12:13, 3, taxi, 28, walk, 05
2025-06-16 10:21, 2025-06-16 13:02, 2, taxi, 05, walk, 06
2025-06-16 10:25, 2025-06-16 13:18, 3, taxi, 04, walk, 05
2025-06-16 10:25, 2025-06-16 13:23, 2, taxi, 04, walk, 05
2025-06-16 10:26, 2025-06-16 13:18, 3, walk, 09, walk, 05
2025-06-16 10:26, 2025-06-16 13:23, 2, walk, 09, walk, 05
2025-06-16 10:27, 2025-06-16 13:13, 2, taxi, 28, walk, 05
2025-06-16 10:28, 2025-06-16 14:13, 4, walk, 10, walk, 05
2025-06-16 10:35, 2025-06-16 14:03, 3, taxi, 25, walk, 05
2025-06-16 11:19, 2025-06-16 14:13, 3, taxi, 05, walk, 05
2025-06-16 11:21, 2025-06-16 14:18, 3, taxi, 05, walk, 05
2025-06-16 11:21, 2025-06-16 14:23, 2, taxi, 05, walk, 05
2025-06-16 11:25, 2025-06-16 14:18, 4, taxi, 04, walk, 05
2025-06-16 11:25, 2025-06-16 14:23, 3, taxi, 04, walk, 05
2025-06-16 11:26, 2025-06-16 14:18, 4, walk, 09, walk, 05
2025-06-16 11:26, 2025-06-16 14:23, 3, walk, 09, walk, 05
2025-06-16 11:27, 2025-06-16 14:13, 3, taxi, 28, walk, 05
2025-06-16 11:34, 2025-06-16 15:13, 3, walk, 09, walk, 05
2025-06-16 11:57, 2025-06-16 14:43, 3, taxi, 28, walk, 05
2025-06-16 12:19, 2025-06-16 15:13, 2, taxi, 05, walk, 05
2025-06-16 12:25, 2025-06-16 15:18, 3, taxi, 04, walk, 05
2025-06-16 12:25, 2025-06-16 15:23, 2, taxi, 04, walk, 05
2025-06-16 12:26, 2025-06-16 15:18, 3, walk, 09, walk, 05
2025-06-16 12:26, 2025-06-16 15:23, 2, walk, 09, walk, 05
2025-06-16 12:27, 2025-06-16 15:13, 2, taxi, 28, walk, 05
2025-06-16 12:33, 2025-06-16 16:13, 4, walk, 10, walk, 05
2025-06-16 12:35, 2025-06-16 15:43, 4, taxi, 25, walk, 05
2025-06-16 13:19, 2025-06-16 16:13, 3, taxi, 05, walk, 05
2025-06-16 13:21, 2025-06-16 16:18, 3, taxi, 05, walk, 05
2025-06-16 13:21, 2025-06-16 16:23, 2, taxi, 05, walk, 05
2025-06-16 13:25, 2025-06-16 16:18, 4, taxi, 04, walk, 05
2025-06-16 13:25, 2025-06-16 16:23, 3, taxi, 04, walk, 05
2025-06-16 13:26, 2025-06-16 16:18, 4, walk, 09, walk, 05
2025-06-16 13:26, 2025-06-16 16:23, 3, walk, 09, walk, 05
2025-06-16 13:26, 2025-06-16 17:18, 2, walk, 09, walk, 05
2025-06-16 13:27, 2025-06-16 16:13, 3, taxi, 28, walk, 05
2025-06-16 13:28, 2025-06-16 17:12, 3, walk, 10, walk, 05
2025-06-16 14:14, 2025-06-16 17:18, 3, walk, 09, walk, 05
2025-06-16 14:19, 2025-06-16 17:12, 2, taxi, 05, walk, 05
2025-06-16 14:26, 2025-06-16 17:18, 2, taxi, 05, walk, 05
2025-06-16 14:27, 2025-06-16 17:12, 2, taxi, 28, walk, 05
2025-06-16 14:29, 2025-06-16 18:16, 4, walk, 09, walk, 05
2025-06-16 14:29, 2025-06-16 18:18, 3, walk, 09, walk, 05
2025-06-16 15:14, 2025-06-16 18:16, 5, walk, 09, walk, 05
2025-06-16 15:14, 2025-06-16 18:18, 4, walk, 09, walk, 05
2025-06-16 15:21, 2025-06-16 18:16, 3, taxi, 05, walk, 05
2025-06-16 15:21, 2025-06-16 18:18, 2, taxi, 05, walk, 05
2025-06-16 15:26, 2025-06-16 18:16, 4, taxi, 05, walk, 05
2025-06-16 15:26, 2025-06-16 18:18, 3, taxi, 05, walk, 05
2025-06-16 15:27, 2025-06-16 18:16, 3, taxi, 28, walk, 05
2025-06-16 15:29, 2025-06-16 19:16, 3, walk, 09, walk, 05
2025-06-16 16:14, 2025-06-16 19:16, 4, walk, 09, walk, 05
2025-06-16 16:14, 2025-06-16 19:18, 3, walk, 09, walk, 05
2025-06-16 16:19, 2025-06-16 19:16, 2, taxi, 05, walk, 05
2025-06-16 16:26, 2025-06-16 19:16, 3, taxi, 05, walk, 05
2025-06-16 16:26, 2025-06-16 19:18, 2, taxi, 05, walk, 05
2025-06-16 16:27, 2025-06-16 19:16, 2, taxi, 28, walk, 05
2025-06-16 16:30, 2025-06-16 20:16, 5, walk, 10, walk, 05
2025-06-16 16:30, 2025-06-16 20:18, 4, walk, 10, walk, 05
2025-06-16 16:30, 2025-06-16 21:10, 3, walk, 10, walk, 05
2025-06-16 17:21, 2025-06-16 20:16, 4, taxi, 05, walk, 05
2025-06-16 17:21, 2025-06-16 20:18, 3, taxi, 05, walk, 05
2025-06-16 17:28, 2025-06-16 21:10, 3, taxi, 18, walk, 05
2025-06-16 18:19, 2025-06-16 21:10, 2, taxi, 05, walk, 05
2025-06-16 18:27, 2025-06-16 22:11, 2, taxi, 27, walk, 05
2025-06-16 18:31, 2025-06-16 22:11, 3, taxi, 27, walk, 05
2025-06-16 18:31, 2025-06-17 05:23, 2, taxi, 27, walk, 05
2025-06-16 19:06, 2025-06-16 23:44, 3, taxi, 18, walk, 08
2025-06-16 19:19, 2025-06-16 22:11, 2, taxi, 05, walk, 05
2025-06-16 19:21, 2025-06-16 22:57, 5, taxi, 05, walk, 05
2025-06-16 20:19, 2025-06-16 23:44, 2, taxi, 05, walk, 08
2025-06-16 20:21, 2025-06-17 00:50, 4, taxi, 05, walk, 08
)__"sv;

constexpr auto const schleife_dresden_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:26, 2025-06-16 05:18, 3, taxi, 05, walk, 05
2025-06-16 02:26, 2025-06-16 05:23, 2, taxi, 05, walk, 05
2025-06-16 02:29, 2025-06-16 06:13, 3, walk, 09, walk, 05
2025-06-16 03:19, 2025-06-16 06:13, 2, taxi, 05, walk, 05
2025-06-16 04:14, 2025-06-16 07:18, 4, walk, 09, walk, 05
2025-06-16 04:14, 2025-06-16 07:23, 3, walk, 09, walk, 05
2025-06-16 04:29, 2025-06-16 08:13, 4, walk, 09, walk, 05
2025-06-16 04:29, 2025-06-16 08:23, 3, walk, 09, walk, 05
2025-06-16 05:15, 2025-06-16 08:18, 5, walk, 09, walk, 05
2025-06-16 05:15, 2025-06-16 08:23, 4, walk, 09, walk, 05
2025-06-16 05:19, 2025-06-16 09:13, 3, walk, 10, walk, 05
2025-06-16 06:14, 2025-06-16 09:18, 4, walk, 09, walk, 05
2025-06-16 06:14, 2025-06-16 09:23, 3, walk, 09, walk, 05
2025-06-16 06:29, 2025-06-16 10:13, 4, walk, 09, walk, 05
2025-06-16 06:29, 2025-06-16 10:23, 3, walk, 09, walk, 05
2025-06-16 07:19, 2025-06-16 10:13, 3, taxi, 05, walk, 05
2025-06-16 07:21, 2025-06-16 10:18, 3, taxi, 05, walk, 05
2025-06-16 07:21, 2025-06-16 10:23, 2, taxi, 05, walk, 05
2025-06-16 07:26, 2025-06-16 10:23, 3, taxi, 05, walk, 05
2025-06-16 08:14, 2025-06-16 11:18, 4, walk, 09, walk, 05
2025-06-16 08:14, 2025-06-16 11:23, 3, walk, 09, walk, 05
2025-06-16 08:29, 2025-06-16 12:13, 4, walk, 09, walk, 05
2025-06-16 09:26, 2025-06-16 12:18, 4, walk, 09, walk, 05
2025-06-16 09:26, 2025-06-16 12:23, 3, walk, 09, walk, 05
2025-06-16 10:26, 2025-06-16 13:18, 3, walk, 09, walk, 05
2025-06-16 10:26, 2025-06-16 13:23, 2, walk, 09, walk, 05
2025-06-16 10:28, 2025-06-16 14:13, 4, walk, 10, walk, 05
2025-06-16 11:26, 2025-06-16 14:18, 4, walk, 09, walk, 05
2025-06-16 11:26, 2025-06-16 14:23, 3, walk, 09, walk, 05
2025-06-16 11:34, 2025-06-16 15:13, 3, walk, 09, walk, 05
2025-06-16 12:26, 2025-06-16 15:18, 3, walk, 09, walk, 05
2025-06-16 12:26, 2025-06-16 15:23, 2, walk, 09, walk, 05
2025-06-16 12:33, 2025-06-16 16:13, 4, walk, 10, walk, 05
2025-06-16 13:26, 2025-06-16 16:18, 4, walk, 09, walk, 05
2025-06-16 13:26, 2025-06-16 16:23, 3, walk, 09, walk, 05
2025-06-16 13:26, 2025-06-16 17:18, 2, walk, 09, walk, 05
2025-06-16 13:28, 2025-06-16 17:12, 3, walk, 10, walk, 05
2025-06-16 14:14, 2025-06-16 17:18, 3, walk, 09, walk, 05
2025-06-16 14:29, 2025-06-16 18:16, 4, walk, 09, walk, 05
2025-06-16 14:29, 2025-06-16 18:18, 3, walk, 09, walk, 05
2025-06-16 15:14, 2025-06-16 18:16, 5, walk, 09, walk, 05
2025-06-16 15:14, 2025-06-16 18:18, 4, walk, 09, walk, 05
2025-06-16 15:29, 2025-06-16 19:16, 3, walk, 09, walk, 05
2025-06-16 16:14, 2025-06-16 19:16, 4, walk, 09, walk, 05
2025-06-16 16:14, 2025-06-16 19:18, 3, walk, 09, walk, 05
2025-06-16 16:30, 2025-06-16 20:16, 5, walk, 10, walk, 05
2025-06-16 16:30, 2025-06-16 20:18, 4, walk, 10, walk, 05
2025-06-16 16:30, 2025-06-16 21:10, 3, walk, 10, walk, 05
2025-06-16 17:21, 2025-06-16 20:18, 3, taxi, 05, walk, 05
2025-06-16 18:19, 2025-06-16 21:10, 2, taxi, 05, walk, 05
2025-06-16 19:19, 2025-06-16 22:11, 2, taxi, 05, walk, 05
2025-06-16 20:19, 2025-06-16 23:44, 2, taxi, 05, walk, 08
)__"sv;

TEST(odm, schleife_dresden_monday) {
  auto const mix_result = mix(schleife_dresden_monday_in);
  whitelist(mix_result, from_csv(schleife_dresden_monday_whitelist));
}

constexpr auto const schleife_dresden_sunday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-14 20:32, 2025-06-15 04:18, 4, taxi, 27, walk, 06
2025-06-14 20:32, 2025-06-15 04:20, 3, taxi, 27, walk, 08
2025-06-14 20:32, 2025-06-15 05:20, 2, taxi, 27, walk, 08
2025-06-15 04:21, 2025-06-15 07:18, 4, taxi, 05, walk, 06
2025-06-15 04:21, 2025-06-15 07:20, 3, taxi, 05, walk, 08
2025-06-15 04:21, 2025-06-15 08:18, 2, taxi, 05, walk, 05
2025-06-15 05:19, 2025-06-15 08:46, 2, taxi, 05, walk, 05
2025-06-15 06:13, 2025-06-15 09:16, 4, walk, 09, walk, 05
2025-06-15 06:13, 2025-06-15 09:18, 3, walk, 09, walk, 05
2025-06-15 06:24, 2025-06-15 09:16, 3, taxi, 27, walk, 05
2025-06-15 06:24, 2025-06-15 09:18, 2, taxi, 27, walk, 05
2025-06-15 06:26, 2025-06-15 09:16, 3, taxi, 05, walk, 05
2025-06-15 06:26, 2025-06-15 09:18, 2, taxi, 05, walk, 05
2025-06-15 06:27, 2025-06-15 09:46, 2, taxi, 27, walk, 05
2025-06-15 06:31, 2025-06-15 10:16, 4, walk, 09, walk, 05
2025-06-15 06:31, 2025-06-15 10:18, 3, walk, 09, walk, 05
2025-06-15 07:21, 2025-06-15 10:16, 3, taxi, 05, walk, 05
2025-06-15 07:21, 2025-06-15 10:18, 2, taxi, 05, walk, 05
2025-06-15 08:19, 2025-06-15 11:16, 2, taxi, 05, walk, 05
2025-06-15 08:26, 2025-06-15 11:16, 3, taxi, 05, walk, 05
2025-06-15 08:26, 2025-06-15 11:18, 2, taxi, 05, walk, 05
2025-06-15 08:27, 2025-06-15 11:16, 2, taxi, 28, walk, 05
2025-06-15 09:21, 2025-06-15 12:16, 3, taxi, 05, walk, 05
2025-06-15 09:21, 2025-06-15 12:18, 2, taxi, 05, walk, 05
2025-06-15 09:34, 2025-06-15 13:01, 3, taxi, 17, walk, 06
2025-06-15 10:21, 2025-06-15 13:01, 2, taxi, 05, walk, 06
2025-06-15 10:27, 2025-06-15 13:16, 2, taxi, 28, walk, 05
2025-06-15 10:31, 2025-06-15 14:16, 4, walk, 09, walk, 05
2025-06-15 10:31, 2025-06-15 14:18, 3, walk, 09, walk, 05
2025-06-15 11:21, 2025-06-15 14:16, 3, taxi, 05, walk, 05
2025-06-15 11:21, 2025-06-15 14:18, 2, taxi, 05, walk, 05
2025-06-15 12:19, 2025-06-15 15:16, 2, taxi, 05, walk, 05
2025-06-15 12:26, 2025-06-15 15:16, 3, taxi, 05, walk, 05
2025-06-15 12:26, 2025-06-15 15:18, 2, taxi, 05, walk, 05
2025-06-15 12:27, 2025-06-15 15:16, 2, taxi, 28, walk, 05
2025-06-15 13:21, 2025-06-15 16:16, 3, taxi, 05, walk, 05
2025-06-15 13:21, 2025-06-15 16:18, 2, taxi, 05, walk, 05
2025-06-15 14:13, 2025-06-15 17:16, 4, walk, 09, walk, 05
2025-06-15 14:13, 2025-06-15 17:18, 3, walk, 09, walk, 05
2025-06-15 14:19, 2025-06-15 17:16, 2, taxi, 05, walk, 05
2025-06-15 14:26, 2025-06-15 17:16, 3, taxi, 05, walk, 05
2025-06-15 14:26, 2025-06-15 17:18, 2, taxi, 05, walk, 05
2025-06-15 14:27, 2025-06-15 17:16, 2, taxi, 28, walk, 05
2025-06-15 14:31, 2025-06-15 18:16, 4, walk, 09, walk, 05
2025-06-15 14:31, 2025-06-15 18:18, 3, walk, 09, walk, 05
2025-06-15 15:21, 2025-06-15 18:16, 3, taxi, 05, walk, 05
2025-06-15 15:21, 2025-06-15 18:18, 2, taxi, 05, walk, 05
2025-06-15 16:19, 2025-06-15 19:16, 2, taxi, 05, walk, 05
2025-06-15 16:21, 2025-06-15 19:16, 4, taxi, 05, walk, 05
2025-06-15 16:21, 2025-06-15 19:18, 3, taxi, 05, walk, 05
2025-06-15 16:24, 2025-06-15 19:16, 3, taxi, 27, walk, 05
2025-06-15 16:24, 2025-06-15 19:18, 2, taxi, 27, walk, 05
2025-06-15 16:27, 2025-06-15 19:40, 2, taxi, 27, walk, 05
2025-06-15 17:21, 2025-06-15 20:18, 4, taxi, 05, walk, 06
2025-06-15 17:21, 2025-06-15 20:20, 3, taxi, 05, walk, 08
2025-06-15 17:34, 2025-06-15 21:10, 3, taxi, 17, walk, 05
2025-06-15 18:19, 2025-06-15 21:10, 2, taxi, 05, walk, 05
2025-06-15 18:21, 2025-06-15 21:45, 4, taxi, 05, walk, 06
2025-06-15 18:27, 2025-06-15 22:11, 2, taxi, 27, walk, 05
2025-06-15 18:32, 2025-06-15 22:11, 3, taxi, 27, walk, 05
2025-06-15 19:19, 2025-06-15 22:11, 2, taxi, 05, walk, 05
2025-06-15 19:21, 2025-06-15 22:59, 5, taxi, 05, walk, 06
2025-06-15 20:19, 2025-06-15 23:44, 2, taxi, 05, walk, 08
2025-06-15 20:21, 2025-06-16 00:50, 4, taxi, 05, walk, 08
)__"sv;

constexpr auto const schleife_dresden_sunday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-14 20:32, 2025-06-15 04:20, 3, taxi, 27, walk, 08
2025-06-15 04:21, 2025-06-15 07:20, 3, taxi, 05, walk, 08
2025-06-15 06:13, 2025-06-15 09:16, 4, walk, 09, walk, 05
2025-06-15 06:13, 2025-06-15 09:18, 3, walk, 09, walk, 05
2025-06-15 06:31, 2025-06-15 10:16, 4, walk, 09, walk, 05
2025-06-15 06:31, 2025-06-15 10:18, 3, walk, 09, walk, 05
2025-06-15 07:21, 2025-06-15 10:18, 2, taxi, 05, walk, 05
2025-06-15 08:19, 2025-06-15 11:16, 2, taxi, 05, walk, 05
2025-06-15 08:26, 2025-06-15 11:18, 2, taxi, 05, walk, 05
2025-06-15 09:21, 2025-06-15 12:18, 2, taxi, 05, walk, 05
2025-06-15 10:21, 2025-06-15 13:01, 2, taxi, 05, walk, 06
2025-06-15 10:31, 2025-06-15 14:16, 4, walk, 09, walk, 05
2025-06-15 10:31, 2025-06-15 14:18, 3, walk, 09, walk, 05
2025-06-15 11:21, 2025-06-15 14:18, 2, taxi, 05, walk, 05
2025-06-15 12:19, 2025-06-15 15:16, 2, taxi, 05, walk, 05
2025-06-15 12:26, 2025-06-15 15:18, 2, taxi, 05, walk, 05
2025-06-15 13:21, 2025-06-15 16:18, 2, taxi, 05, walk, 05
2025-06-15 14:13, 2025-06-15 17:16, 4, walk, 09, walk, 05
2025-06-15 14:13, 2025-06-15 17:18, 3, walk, 09, walk, 05
2025-06-15 14:31, 2025-06-15 18:16, 4, walk, 09, walk, 05
2025-06-15 14:31, 2025-06-15 18:18, 3, walk, 09, walk, 05
2025-06-15 15:21, 2025-06-15 18:18, 2, taxi, 05, walk, 05
2025-06-15 16:19, 2025-06-15 19:16, 2, taxi, 05, walk, 05
2025-06-15 17:21, 2025-06-15 20:20, 3, taxi, 05, walk, 08
2025-06-15 18:19, 2025-06-15 21:10, 2, taxi, 05, walk, 05
2025-06-15 19:19, 2025-06-15 22:11, 2, taxi, 05, walk, 05
2025-06-15 20:19, 2025-06-15 23:44, 2, taxi, 05, walk, 08
)__"sv;

TEST(odm, schleife_dresden_sunday) {
  auto const mix_result = mix(schleife_dresden_sunday_in);
  whitelist(mix_result, from_csv(schleife_dresden_sunday_whitelist));
}

constexpr auto const badmuskau_dresden_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:10, 2025-06-16 05:13, 2, taxi, 15, walk, 05
2025-06-16 02:21, 2025-06-16 05:13, 2, taxi, 34, walk, 05
2025-06-16 02:39, 2025-06-16 05:43, 2, taxi, 33, walk, 05
2025-06-16 03:08, 2025-06-16 07:13, 3, walk, 05, walk, 05
2025-06-16 03:15, 2025-06-16 06:13, 2, taxi, 15, walk, 05
2025-06-16 03:21, 2025-06-16 06:13, 2, taxi, 34, walk, 05
2025-06-16 04:15, 2025-06-16 07:13, 2, taxi, 15, walk, 05
2025-06-16 04:21, 2025-06-16 07:13, 2, taxi, 34, walk, 05
2025-06-16 04:43, 2025-06-16 08:13, 4, walk, 05, walk, 05
2025-06-16 04:43, 2025-06-16 08:23, 3, walk, 05, walk, 05
2025-06-16 05:00, 2025-06-16 08:23, 2, taxi, 15, walk, 05
2025-06-16 05:15, 2025-06-16 08:13, 3, taxi, 15, walk, 05
2025-06-16 05:15, 2025-06-16 08:43, 2, taxi, 15, walk, 05
2025-06-16 05:21, 2025-06-16 08:13, 3, taxi, 34, walk, 05
2025-06-16 05:43, 2025-06-16 09:13, 3, walk, 05, walk, 05
2025-06-16 06:08, 2025-06-16 10:13, 4, walk, 05, walk, 05
2025-06-16 06:08, 2025-06-16 10:23, 3, walk, 05, walk, 05
2025-06-16 06:15, 2025-06-16 09:13, 2, taxi, 15, walk, 05
2025-06-16 06:21, 2025-06-16 09:13, 2, taxi, 34, walk, 05
2025-06-16 07:00, 2025-06-16 10:23, 2, taxi, 15, walk, 05
2025-06-16 07:08, 2025-06-16 11:13, 3, walk, 05, walk, 05
2025-06-16 07:15, 2025-06-16 10:13, 3, taxi, 15, walk, 05
2025-06-16 07:15, 2025-06-16 10:43, 2, taxi, 15, walk, 05
2025-06-16 07:18, 2025-06-16 11:18, 6, walk, 05, walk, 05
2025-06-16 07:18, 2025-06-16 11:23, 5, walk, 05, walk, 05
2025-06-16 07:21, 2025-06-16 10:13, 3, taxi, 34, walk, 05
2025-06-16 07:21, 2025-06-16 10:22, 2, taxi, 34, walk, 06
2025-06-16 08:08, 2025-06-16 12:13, 4, walk, 05, walk, 05
2025-06-16 08:08, 2025-06-16 12:23, 3, walk, 05, walk, 05
2025-06-16 08:15, 2025-06-16 11:13, 2, taxi, 15, walk, 05
2025-06-16 08:21, 2025-06-16 11:13, 2, taxi, 34, walk, 05
2025-06-16 09:00, 2025-06-16 12:23, 2, taxi, 15, walk, 05
2025-06-16 09:08, 2025-06-16 13:02, 3, walk, 05, walk, 06
2025-06-16 09:14, 2025-06-16 13:02, 4, walk, 05, walk, 06
2025-06-16 09:15, 2025-06-16 12:13, 3, taxi, 15, walk, 05
2025-06-16 09:15, 2025-06-16 12:43, 2, taxi, 15, walk, 05
2025-06-16 09:21, 2025-06-16 12:13, 3, taxi, 34, walk, 05
2025-06-16 10:00, 2025-06-16 13:02, 2, taxi, 15, walk, 06
2025-06-16 10:08, 2025-06-16 14:13, 4, walk, 05, walk, 05
2025-06-16 10:08, 2025-06-16 14:23, 3, walk, 05, walk, 05
2025-06-16 10:15, 2025-06-16 13:13, 2, taxi, 15, walk, 05
2025-06-16 10:21, 2025-06-16 13:13, 2, taxi, 34, walk, 05
2025-06-16 10:29, 2025-06-16 14:03, 3, taxi, 31, walk, 05
2025-06-16 10:53, 2025-06-16 14:13, 5, walk, 05, walk, 05
2025-06-16 10:53, 2025-06-16 14:23, 4, walk, 05, walk, 05
2025-06-16 11:00, 2025-06-16 14:23, 2, taxi, 15, walk, 05
2025-06-16 11:08, 2025-06-16 15:13, 3, walk, 05, walk, 05
2025-06-16 11:15, 2025-06-16 14:13, 3, taxi, 15, walk, 05
2025-06-16 11:15, 2025-06-16 14:43, 2, taxi, 15, walk, 05
2025-06-16 11:21, 2025-06-16 14:13, 3, taxi, 34, walk, 05
2025-06-16 11:51, 2025-06-16 14:43, 3, taxi, 34, walk, 05
2025-06-16 11:53, 2025-06-16 15:18, 4, walk, 05, walk, 05
2025-06-16 11:53, 2025-06-16 15:23, 3, walk, 05, walk, 05
2025-06-16 12:08, 2025-06-16 16:13, 4, walk, 05, walk, 05
2025-06-16 12:08, 2025-06-16 16:23, 3, walk, 05, walk, 05
2025-06-16 12:15, 2025-06-16 15:13, 2, taxi, 15, walk, 05
2025-06-16 12:21, 2025-06-16 15:13, 2, taxi, 34, walk, 05
2025-06-16 12:29, 2025-06-16 15:43, 4, taxi, 31, walk, 05
2025-06-16 12:53, 2025-06-16 16:18, 5, walk, 05, walk, 05
2025-06-16 12:53, 2025-06-16 16:23, 4, walk, 05, walk, 05
2025-06-16 13:00, 2025-06-16 16:23, 2, taxi, 15, walk, 05
2025-06-16 13:08, 2025-06-16 17:12, 3, walk, 05, walk, 05
2025-06-16 13:14, 2025-06-16 17:18, 5, walk, 05, walk, 05
2025-06-16 13:15, 2025-06-16 16:13, 3, taxi, 15, walk, 05
2025-06-16 13:15, 2025-06-16 16:43, 2, taxi, 15, walk, 05
2025-06-16 13:21, 2025-06-16 16:13, 3, taxi, 34, walk, 05
2025-06-16 14:08, 2025-06-16 18:16, 4, walk, 05, walk, 05
2025-06-16 14:08, 2025-06-16 18:18, 3, walk, 05, walk, 05
2025-06-16 14:15, 2025-06-16 17:12, 2, taxi, 15, walk, 05
2025-06-16 14:21, 2025-06-16 17:12, 2, taxi, 34, walk, 05
2025-06-16 15:00, 2025-06-16 18:18, 2, taxi, 15, walk, 05
2025-06-16 15:08, 2025-06-16 19:16, 3, walk, 05, walk, 05
2025-06-16 15:14, 2025-06-16 19:16, 6, walk, 05, walk, 05
2025-06-16 15:14, 2025-06-16 19:18, 5, walk, 05, walk, 05
2025-06-16 15:15, 2025-06-16 18:16, 3, taxi, 15, walk, 05
2025-06-16 15:15, 2025-06-16 18:46, 2, taxi, 15, walk, 05
2025-06-16 15:21, 2025-06-16 18:16, 3, taxi, 34, walk, 05
2025-06-16 16:08, 2025-06-16 20:16, 5, walk, 05, walk, 05
2025-06-16 16:08, 2025-06-16 20:18, 4, walk, 05, walk, 05
2025-06-16 16:15, 2025-06-16 19:16, 2, taxi, 15, walk, 05
2025-06-16 16:21, 2025-06-16 19:16, 2, taxi, 34, walk, 05
2025-06-16 17:00, 2025-06-16 20:16, 4, taxi, 15, walk, 05
2025-06-16 17:00, 2025-06-16 20:18, 3, taxi, 15, walk, 05
2025-06-16 17:00, 2025-06-16 20:18, 3, taxi, 15, walk, 05
2025-06-16 17:08, 2025-06-16 21:10, 3, walk, 05, walk, 05
2025-06-16 18:08, 2025-06-16 22:11, 3, walk, 05, walk, 05
2025-06-16 18:15, 2025-06-16 21:10, 2, taxi, 15, walk, 05
2025-06-16 19:00, 2025-06-16 22:57, 5, taxi, 15, walk, 05
2025-06-16 19:08, 2025-06-16 23:44, 3, walk, 05, walk, 08
2025-06-16 19:15, 2025-06-16 22:11, 2, taxi, 15, walk, 05
2025-06-16 20:00, 2025-06-17 00:50, 4, taxi, 15, walk, 08
2025-06-16 20:15, 2025-06-16 23:44, 2, taxi, 15, walk, 08
)__"sv;

constexpr auto const badmuskau_dresden_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:10, 2025-06-16 05:13, 2, taxi, 15, walk, 05
2025-06-16 03:08, 2025-06-16 07:13, 3, walk, 05, walk, 05
2025-06-16 04:43, 2025-06-16 08:13, 4, walk, 05, walk, 05
2025-06-16 04:43, 2025-06-16 08:23, 3, walk, 05, walk, 05
2025-06-16 05:43, 2025-06-16 09:13, 3, walk, 05, walk, 05
2025-06-16 06:08, 2025-06-16 10:13, 4, walk, 05, walk, 05
2025-06-16 06:08, 2025-06-16 10:23, 3, walk, 05, walk, 05
2025-06-16 07:08, 2025-06-16 11:13, 3, walk, 05, walk, 05
2025-06-16 07:18, 2025-06-16 11:18, 6, walk, 05, walk, 05
2025-06-16 07:18, 2025-06-16 11:23, 5, walk, 05, walk, 05
2025-06-16 08:08, 2025-06-16 12:13, 4, walk, 05, walk, 05
2025-06-16 08:08, 2025-06-16 12:23, 3, walk, 05, walk, 05
2025-06-16 09:08, 2025-06-16 13:02, 3, walk, 05, walk, 06
2025-06-16 09:14, 2025-06-16 13:02, 4, walk, 05, walk, 06
2025-06-16 10:08, 2025-06-16 14:13, 4, walk, 05, walk, 05
2025-06-16 10:08, 2025-06-16 14:23, 3, walk, 05, walk, 05
2025-06-16 10:53, 2025-06-16 14:13, 5, walk, 05, walk, 05
2025-06-16 10:53, 2025-06-16 14:23, 4, walk, 05, walk, 05
2025-06-16 11:08, 2025-06-16 15:13, 3, walk, 05, walk, 05
2025-06-16 11:53, 2025-06-16 15:18, 4, walk, 05, walk, 05
2025-06-16 11:53, 2025-06-16 15:23, 3, walk, 05, walk, 05
2025-06-16 12:08, 2025-06-16 16:13, 4, walk, 05, walk, 05
2025-06-16 12:08, 2025-06-16 16:23, 3, walk, 05, walk, 05
2025-06-16 12:53, 2025-06-16 16:18, 5, walk, 05, walk, 05
2025-06-16 12:53, 2025-06-16 16:23, 4, walk, 05, walk, 05
2025-06-16 13:08, 2025-06-16 17:12, 3, walk, 05, walk, 05
2025-06-16 13:14, 2025-06-16 17:18, 5, walk, 05, walk, 05
2025-06-16 14:08, 2025-06-16 18:16, 4, walk, 05, walk, 05
2025-06-16 14:08, 2025-06-16 18:18, 3, walk, 05, walk, 05
2025-06-16 15:08, 2025-06-16 19:16, 3, walk, 05, walk, 05
2025-06-16 15:14, 2025-06-16 19:16, 6, walk, 05, walk, 05
2025-06-16 15:14, 2025-06-16 19:18, 5, walk, 05, walk, 05
2025-06-16 16:08, 2025-06-16 20:16, 5, walk, 05, walk, 05
2025-06-16 16:08, 2025-06-16 20:18, 4, walk, 05, walk, 05
2025-06-16 17:08, 2025-06-16 21:10, 3, walk, 05, walk, 05
2025-06-16 18:08, 2025-06-16 22:11, 3, walk, 05, walk, 05
2025-06-16 19:08, 2025-06-16 23:44, 3, walk, 05, walk, 08
2025-06-16 20:15, 2025-06-16 23:44, 2, taxi, 15, walk, 08
)__"sv;

TEST(odm, badmuskau_dresden_monday) {
  auto const mix_result = mix(badmuskau_dresden_monday_in);
  whitelist(mix_result, from_csv(badmuskau_dresden_monday_whitelist));
}

constexpr auto const badmuskau_dresden_sunday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-15 04:00, 2025-06-15 07:18, 4, taxi, 15, walk, 06
2025-06-15 04:00, 2025-06-15 07:18, 4, taxi, 15, walk, 06
2025-06-15 04:00, 2025-06-15 07:20, 3, taxi, 15, walk, 08
2025-06-15 04:00, 2025-06-15 07:20, 3, taxi, 15, walk, 08
2025-06-15 04:00, 2025-06-15 08:18, 2, taxi, 15, walk, 05
2025-06-15 04:00, 2025-06-15 08:18, 2, taxi, 15, walk, 05
2025-06-15 05:15, 2025-06-15 08:46, 2, taxi, 15, walk, 05
2025-06-15 06:00, 2025-06-15 09:16, 4, taxi, 15, walk, 05
2025-06-15 06:00, 2025-06-15 09:18, 3, taxi, 15, walk, 05
2025-06-15 06:08, 2025-06-15 10:16, 4, walk, 05, walk, 05
2025-06-15 06:08, 2025-06-15 10:18, 3, walk, 05, walk, 05
2025-06-15 06:18, 2025-06-15 09:16, 3, taxi, 33, walk, 05
2025-06-15 06:18, 2025-06-15 09:18, 2, taxi, 33, walk, 05
2025-06-15 06:21, 2025-06-15 09:46, 2, taxi, 33, walk, 05
2025-06-15 07:00, 2025-06-15 10:16, 3, taxi, 15, walk, 05
2025-06-15 07:00, 2025-06-15 10:16, 3, taxi, 15, walk, 05
2025-06-15 07:00, 2025-06-15 10:18, 2, taxi, 15, walk, 05
2025-06-15 07:00, 2025-06-15 10:18, 2, taxi, 15, walk, 05
2025-06-15 07:15, 2025-06-15 10:46, 2, taxi, 15, walk, 05
2025-06-15 08:08, 2025-06-15 12:16, 4, walk, 05, walk, 05
2025-06-15 08:08, 2025-06-15 12:18, 3, walk, 05, walk, 05
2025-06-15 08:15, 2025-06-15 11:16, 2, taxi, 15, walk, 05
2025-06-15 08:21, 2025-06-15 11:16, 2, taxi, 34, walk, 05
2025-06-15 08:32, 2025-06-15 13:01, 3, walk, 05, walk, 06
2025-06-15 09:00, 2025-06-15 12:16, 3, taxi, 15, walk, 05
2025-06-15 09:00, 2025-06-15 12:16, 3, taxi, 15, walk, 05
2025-06-15 09:00, 2025-06-15 12:18, 2, taxi, 15, walk, 05
2025-06-15 09:15, 2025-06-15 12:46, 2, taxi, 15, walk, 05
2025-06-15 10:00, 2025-06-15 13:01, 2, taxi, 15, walk, 06
2025-06-15 10:08, 2025-06-15 14:16, 4, walk, 05, walk, 05
2025-06-15 10:08, 2025-06-15 14:18, 3, walk, 05, walk, 05
2025-06-15 10:15, 2025-06-15 13:16, 2, taxi, 15, walk, 05
2025-06-15 10:21, 2025-06-15 13:16, 2, taxi, 34, walk, 05
2025-06-15 11:00, 2025-06-15 14:16, 3, taxi, 15, walk, 05
2025-06-15 11:00, 2025-06-15 14:18, 2, taxi, 15, walk, 05
2025-06-15 11:15, 2025-06-15 14:46, 2, taxi, 15, walk, 05
2025-06-15 12:08, 2025-06-15 16:16, 4, walk, 05, walk, 05
2025-06-15 12:08, 2025-06-15 16:18, 3, walk, 05, walk, 05
2025-06-15 12:15, 2025-06-15 15:16, 2, taxi, 15, walk, 05
2025-06-15 12:21, 2025-06-15 15:16, 2, taxi, 34, walk, 05
2025-06-15 13:00, 2025-06-15 16:16, 3, taxi, 15, walk, 05
2025-06-15 13:00, 2025-06-15 16:16, 3, taxi, 15, walk, 05
2025-06-15 13:00, 2025-06-15 16:18, 2, taxi, 15, walk, 05
2025-06-15 13:00, 2025-06-15 16:18, 2, taxi, 15, walk, 05
2025-06-15 13:15, 2025-06-15 16:46, 2, taxi, 15, walk, 05
2025-06-15 14:08, 2025-06-15 18:16, 4, walk, 05, walk, 05
2025-06-15 14:08, 2025-06-15 18:18, 3, walk, 05, walk, 05
2025-06-15 14:15, 2025-06-15 17:16, 2, taxi, 15, walk, 05
2025-06-15 14:21, 2025-06-15 17:16, 2, taxi, 34, walk, 05
2025-06-15 15:00, 2025-06-15 18:16, 3, taxi, 15, walk, 05
2025-06-15 15:00, 2025-06-15 18:16, 3, taxi, 15, walk, 05
2025-06-15 15:00, 2025-06-15 18:18, 2, taxi, 15, walk, 05
2025-06-15 15:15, 2025-06-15 18:46, 2, taxi, 15, walk, 05
2025-06-15 16:08, 2025-06-15 20:18, 5, walk, 05, walk, 06
2025-06-15 16:08, 2025-06-15 20:20, 4, walk, 05, walk, 08
2025-06-15 16:08, 2025-06-15 21:10, 3, walk, 05, walk, 05
2025-06-15 16:15, 2025-06-15 19:16, 2, taxi, 15, walk, 05
2025-06-15 16:18, 2025-06-15 19:16, 3, taxi, 33, walk, 05
2025-06-15 16:18, 2025-06-15 19:18, 2, taxi, 33, walk, 05
2025-06-15 16:21, 2025-06-15 19:40, 2, taxi, 33, walk, 05
2025-06-15 17:00, 2025-06-15 20:18, 4, taxi, 15, walk, 06
2025-06-15 17:00, 2025-06-15 20:20, 3, taxi, 15, walk, 08
2025-06-15 17:00, 2025-06-15 20:20, 3, taxi, 15, walk, 08
2025-06-15 18:00, 2025-06-15 21:45, 4, taxi, 15, walk, 06
2025-06-15 18:15, 2025-06-15 21:10, 2, taxi, 15, walk, 05
2025-06-15 19:00, 2025-06-15 22:59, 5, taxi, 15, walk, 06
2025-06-15 19:15, 2025-06-15 22:11, 2, taxi, 15, walk, 05
2025-06-15 20:00, 2025-06-16 00:50, 4, taxi, 15, walk, 08
2025-06-15 20:15, 2025-06-15 23:44, 2, taxi, 15, walk, 08
)__"sv;

constexpr auto const badmuskau_dresden_sunday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-15 04:00, 2025-06-15 07:20, 3, taxi, 15, walk, 08
2025-06-15 04:00, 2025-06-15 07:20, 3, taxi, 15, walk, 08
2025-06-15 05:15, 2025-06-15 08:46, 2, taxi, 15, walk, 05
2025-06-15 06:08, 2025-06-15 10:16, 4, walk, 05, walk, 05
2025-06-15 06:08, 2025-06-15 10:18, 3, walk, 05, walk, 05
2025-06-15 08:08, 2025-06-15 12:16, 4, walk, 05, walk, 05
2025-06-15 08:08, 2025-06-15 12:18, 3, walk, 05, walk, 05
2025-06-15 08:32, 2025-06-15 13:01, 3, walk, 05, walk, 06
2025-06-15 10:00, 2025-06-15 13:01, 2, taxi, 15, walk, 06
2025-06-15 10:08, 2025-06-15 14:16, 4, walk, 05, walk, 05
2025-06-15 10:08, 2025-06-15 14:18, 3, walk, 05, walk, 05
2025-06-15 12:08, 2025-06-15 16:16, 4, walk, 05, walk, 05
2025-06-15 12:08, 2025-06-15 16:18, 3, walk, 05, walk, 05
2025-06-15 14:08, 2025-06-15 18:16, 4, walk, 05, walk, 05
2025-06-15 14:08, 2025-06-15 18:18, 3, walk, 05, walk, 05
2025-06-15 16:08, 2025-06-15 20:18, 5, walk, 05, walk, 06
2025-06-15 16:08, 2025-06-15 20:20, 4, walk, 05, walk, 08
2025-06-15 16:08, 2025-06-15 21:10, 3, walk, 05, walk, 05
2025-06-15 18:15, 2025-06-15 21:10, 2, taxi, 15, walk, 05
2025-06-15 19:15, 2025-06-15 22:11, 2, taxi, 15, walk, 05
2025-06-15 20:15, 2025-06-15 23:44, 2, taxi, 15, walk, 08
)__"sv;

TEST(odm, badmuskau_dresden_sunday) {
  auto const mix_result = mix(badmuskau_dresden_sunday_in);
  whitelist(mix_result, from_csv(badmuskau_dresden_sunday_whitelist));
}

constexpr auto const schleife_kleinpriebus_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-09 02:00, 2025-09-09 02:57, 0, taxi, 57, walk, 00
2025-09-09 02:28, 2025-09-09 03:48, 0, walk, 10, taxi, 38
2025-09-09 02:28, 2025-09-09 04:45, 1, walk, 10, walk, 03
2025-09-09 02:40, 2025-09-09 03:37, 0, taxi, 57, walk, 00
2025-09-09 03:20, 2025-09-09 04:17, 0, taxi, 57, walk, 00
2025-09-09 03:33, 2025-09-09 04:45, 0, taxi, 23, walk, 03
2025-09-09 04:00, 2025-09-09 04:57, 0, taxi, 57, walk, 00
2025-09-09 04:13, 2025-09-09 05:33, 1, walk, 10, taxi, 38
2025-09-09 04:28, 2025-09-09 05:48, 0, walk, 10, taxi, 38
2025-09-09 04:40, 2025-09-09 05:37, 0, taxi, 57, walk, 00
2025-09-09 05:14, 2025-09-09 06:34, 1, walk, 10, taxi, 38
2025-09-09 05:18, 2025-09-09 06:40, 0, walk, 11, taxi, 38
2025-09-09 05:18, 2025-09-09 06:45, 1, walk, 11, walk, 03
2025-09-09 05:20, 2025-09-09 06:17, 0, taxi, 57, walk, 00
2025-09-09 05:33, 2025-09-09 06:45, 0, taxi, 23, walk, 03
2025-09-09 06:00, 2025-09-09 06:57, 0, taxi, 57, walk, 00
2025-09-09 06:28, 2025-09-09 07:48, 0, walk, 10, taxi, 38
2025-09-09 06:28, 2025-09-09 09:16, 1, walk, 10, walk, 03
2025-09-09 06:40, 2025-09-09 07:37, 0, taxi, 57, walk, 00
2025-09-09 07:20, 2025-09-09 08:17, 0, taxi, 57, walk, 00
2025-09-09 08:00, 2025-09-09 08:57, 0, taxi, 57, walk, 00
2025-09-09 08:04, 2025-09-09 09:16, 0, taxi, 23, walk, 03
2025-09-09 08:16, 2025-09-09 10:43, 2, taxi, 08, walk, 03
2025-09-09 08:28, 2025-09-09 09:48, 0, walk, 10, taxi, 38
2025-09-09 08:40, 2025-09-09 09:37, 0, taxi, 57, walk, 00
2025-09-09 08:51, 2025-09-09 09:52, 0, taxi, 33, walk, 03
2025-09-09 09:20, 2025-09-09 10:17, 0, taxi, 57, walk, 00
2025-09-09 09:24, 2025-09-09 10:34, 0, walk, 10, taxi, 38
2025-09-09 09:24, 2025-09-09 10:45, 1, walk, 10, walk, 03
2025-09-09 09:25, 2025-09-09 11:18, 1, walk, 10, taxi, 38
2025-09-09 09:28, 2025-09-09 10:45, 0, walk, 11, taxi, 51
2025-09-09 09:33, 2025-09-09 10:45, 0, taxi, 23, walk, 03
2025-09-09 10:00, 2025-09-09 10:57, 0, taxi, 57, walk, 00
2025-09-09 10:23, 2025-09-09 11:33, 0, walk, 10, taxi, 38
2025-09-09 10:27, 2025-09-09 11:45, 1, walk, 11, walk, 03
2025-09-09 10:27, 2025-09-09 11:48, 0, walk, 11, taxi, 38
2025-09-09 10:33, 2025-09-09 11:45, 0, taxi, 23, walk, 03
2025-09-09 10:40, 2025-09-09 11:37, 0, taxi, 57, walk, 00
2025-09-09 11:20, 2025-09-09 12:17, 0, taxi, 57, walk, 00
2025-09-09 11:27, 2025-09-09 12:45, 1, walk, 11, walk, 03
2025-09-09 11:33, 2025-09-09 12:43, 0, walk, 10, taxi, 38
2025-09-09 11:33, 2025-09-09 12:45, 0, taxi, 23, walk, 03
2025-09-09 12:00, 2025-09-09 12:57, 0, taxi, 57, walk, 00
2025-09-09 12:23, 2025-09-09 13:33, 0, walk, 10, taxi, 38
2025-09-09 12:23, 2025-09-09 13:45, 1, walk, 10, walk, 03
2025-09-09 12:32, 2025-09-09 13:53, 0, walk, 11, taxi, 38
2025-09-09 12:32, 2025-09-09 15:43, 3, walk, 11, walk, 03
2025-09-09 12:33, 2025-09-09 13:45, 0, taxi, 23, walk, 03
2025-09-09 12:40, 2025-09-09 13:37, 0, taxi, 57, walk, 00
2025-09-09 13:09, 2025-09-09 15:43, 3, taxi, 33, walk, 03
2025-09-09 13:16, 2025-09-09 15:43, 2, taxi, 08, walk, 03
2025-09-09 13:20, 2025-09-09 14:17, 0, taxi, 57, walk, 00
2025-09-09 13:24, 2025-09-09 14:34, 0, walk, 10, taxi, 38
2025-09-09 13:27, 2025-09-09 14:48, 0, walk, 11, taxi, 38
2025-09-09 14:00, 2025-09-09 14:57, 0, taxi, 57, walk, 00
2025-09-09 14:28, 2025-09-09 15:47, 1, walk, 10, walk, 03
2025-09-09 14:28, 2025-09-09 15:48, 0, walk, 10, taxi, 38
2025-09-09 14:33, 2025-09-09 15:47, 0, taxi, 23, walk, 03
2025-09-09 14:40, 2025-09-09 15:37, 0, taxi, 57, walk, 00
2025-09-09 15:13, 2025-09-09 16:34, 1, walk, 10, taxi, 38
2025-09-09 15:20, 2025-09-09 16:17, 0, taxi, 57, walk, 00
2025-09-09 15:28, 2025-09-09 16:45, 1, walk, 10, walk, 03
2025-09-09 15:28, 2025-09-09 16:48, 0, walk, 10, taxi, 38
2025-09-09 15:33, 2025-09-09 16:45, 0, taxi, 23, walk, 03
2025-09-09 16:00, 2025-09-09 16:57, 0, taxi, 57, walk, 00
2025-09-09 16:09, 2025-09-10 04:15, 3, taxi, 33, walk, 03
2025-09-09 16:16, 2025-09-10 04:15, 2, taxi, 08, walk, 03
2025-09-09 16:29, 2025-09-09 17:50, 0, walk, 11, taxi, 38
2025-09-09 16:40, 2025-09-09 17:37, 0, taxi, 57, walk, 00
2025-09-09 17:20, 2025-09-09 18:17, 0, taxi, 57, walk, 00
2025-09-09 18:00, 2025-09-09 18:57, 0, taxi, 57, walk, 00
2025-09-09 18:40, 2025-09-09 19:37, 0, taxi, 57, walk, 00
2025-09-09 19:20, 2025-09-09 20:17, 0, taxi, 57, walk, 00
2025-09-09 20:00, 2025-09-09 20:57, 0, taxi, 57, walk, 00
)__"sv;

constexpr auto const schleife_kleinpriebus_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-09 02:00, 2025-09-09 02:57, 0, taxi, 57, walk, 00
2025-09-09 02:28, 2025-09-09 04:45, 1, walk, 10, walk, 03
2025-09-09 03:33, 2025-09-09 04:45, 0, taxi, 23, walk, 03
2025-09-09 04:13, 2025-09-09 05:33, 1, walk, 10, taxi, 38
2025-09-09 04:28, 2025-09-09 05:48, 0, walk, 10, taxi, 38
2025-09-09 04:40, 2025-09-09 05:37, 0, taxi, 57, walk, 00
2025-09-09 05:14, 2025-09-09 06:34, 1, walk, 10, taxi, 38
2025-09-09 05:18, 2025-09-09 06:40, 0, walk, 11, taxi, 38
2025-09-09 05:18, 2025-09-09 06:45, 1, walk, 11, walk, 03
2025-09-09 05:20, 2025-09-09 06:17, 0, taxi, 57, walk, 00
2025-09-09 05:33, 2025-09-09 06:45, 0, taxi, 23, walk, 03
2025-09-09 06:00, 2025-09-09 06:57, 0, taxi, 57, walk, 00
2025-09-09 06:28, 2025-09-09 07:48, 0, walk, 10, taxi, 38
2025-09-09 06:28, 2025-09-09 09:16, 1, walk, 10, walk, 03
2025-09-09 06:40, 2025-09-09 07:37, 0, taxi, 57, walk, 00
2025-09-09 07:20, 2025-09-09 08:17, 0, taxi, 57, walk, 00
2025-09-09 08:00, 2025-09-09 08:57, 0, taxi, 57, walk, 00
2025-09-09 08:04, 2025-09-09 09:16, 0, taxi, 23, walk, 03
2025-09-09 08:16, 2025-09-09 10:43, 2, taxi, 08, walk, 03
2025-09-09 08:28, 2025-09-09 09:48, 0, walk, 10, taxi, 38
2025-09-09 08:40, 2025-09-09 09:37, 0, taxi, 57, walk, 00
2025-09-09 08:51, 2025-09-09 09:52, 0, taxi, 33, walk, 03
2025-09-09 09:20, 2025-09-09 10:17, 0, taxi, 57, walk, 00
2025-09-09 09:24, 2025-09-09 10:34, 0, walk, 10, taxi, 38
2025-09-09 09:24, 2025-09-09 10:45, 1, walk, 10, walk, 03
2025-09-09 09:25, 2025-09-09 11:18, 1, walk, 10, taxi, 38
2025-09-09 09:28, 2025-09-09 10:45, 0, walk, 11, taxi, 51
2025-09-09 09:33, 2025-09-09 10:45, 0, taxi, 23, walk, 03
2025-09-09 10:00, 2025-09-09 10:57, 0, taxi, 57, walk, 00
2025-09-09 10:23, 2025-09-09 11:33, 0, walk, 10, taxi, 38
2025-09-09 10:27, 2025-09-09 11:45, 1, walk, 11, walk, 03
2025-09-09 10:27, 2025-09-09 11:48, 0, walk, 11, taxi, 38
2025-09-09 10:33, 2025-09-09 11:45, 0, taxi, 23, walk, 03
2025-09-09 10:40, 2025-09-09 11:37, 0, taxi, 57, walk, 00
2025-09-09 11:20, 2025-09-09 12:17, 0, taxi, 57, walk, 00
2025-09-09 11:27, 2025-09-09 12:45, 1, walk, 11, walk, 03
2025-09-09 11:33, 2025-09-09 12:43, 0, walk, 10, taxi, 38
2025-09-09 11:33, 2025-09-09 12:45, 0, taxi, 23, walk, 03
2025-09-09 12:00, 2025-09-09 12:57, 0, taxi, 57, walk, 00
2025-09-09 12:23, 2025-09-09 13:33, 0, walk, 10, taxi, 38
2025-09-09 12:23, 2025-09-09 13:45, 1, walk, 10, walk, 03
2025-09-09 12:32, 2025-09-09 13:53, 0, walk, 11, taxi, 38
2025-09-09 12:32, 2025-09-09 15:43, 3, walk, 11, walk, 03
2025-09-09 12:33, 2025-09-09 13:45, 0, taxi, 23, walk, 03
2025-09-09 12:40, 2025-09-09 13:37, 0, taxi, 57, walk, 00
2025-09-09 13:09, 2025-09-09 15:43, 3, taxi, 33, walk, 03
2025-09-09 13:16, 2025-09-09 15:43, 2, taxi, 08, walk, 03
2025-09-09 13:20, 2025-09-09 14:17, 0, taxi, 57, walk, 00
2025-09-09 13:24, 2025-09-09 14:34, 0, walk, 10, taxi, 38
2025-09-09 13:27, 2025-09-09 14:48, 0, walk, 11, taxi, 38
2025-09-09 14:00, 2025-09-09 14:57, 0, taxi, 57, walk, 00
2025-09-09 14:28, 2025-09-09 15:47, 1, walk, 10, walk, 03
2025-09-09 14:28, 2025-09-09 15:48, 0, walk, 10, taxi, 38
2025-09-09 14:33, 2025-09-09 15:47, 0, taxi, 23, walk, 03
2025-09-09 14:40, 2025-09-09 15:37, 0, taxi, 57, walk, 00
2025-09-09 15:13, 2025-09-09 16:34, 1, walk, 10, taxi, 38
2025-09-09 15:20, 2025-09-09 16:17, 0, taxi, 57, walk, 00
2025-09-09 15:28, 2025-09-09 16:45, 1, walk, 10, walk, 03
2025-09-09 15:28, 2025-09-09 16:48, 0, walk, 10, taxi, 38
2025-09-09 15:33, 2025-09-09 16:45, 0, taxi, 23, walk, 03
2025-09-09 16:00, 2025-09-09 16:57, 0, taxi, 57, walk, 00
2025-09-09 16:09, 2025-09-10 04:15, 3, taxi, 33, walk, 03
2025-09-09 16:16, 2025-09-10 04:15, 2, taxi, 08, walk, 03
2025-09-09 16:29, 2025-09-09 17:50, 0, walk, 11, taxi, 38
2025-09-09 16:40, 2025-09-09 17:37, 0, taxi, 57, walk, 00
2025-09-09 17:20, 2025-09-09 18:17, 0, taxi, 57, walk, 00
2025-09-09 18:00, 2025-09-09 18:57, 0, taxi, 57, walk, 00
2025-09-09 18:40, 2025-09-09 19:37, 0, taxi, 57, walk, 00
2025-09-09 19:20, 2025-09-09 20:17, 0, taxi, 57, walk, 00
2025-09-09 20:00, 2025-09-09 20:57, 0, taxi, 57, walk, 00
)__"sv;

TEST(odm, schleife_kleinpriebus_monday) {
  auto const mix_result = mix(schleife_kleinpriebus_monday_in);
  whitelist(mix_result, from_csv(schleife_kleinpriebus_monday_whitelist));
}

constexpr auto const schleife_kleinpriebus_sunday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-15 02:00, 2025-06-15 02:41, 0, taxi, 41, walk, 00
2025-06-15 03:00, 2025-06-15 03:41, 0, taxi, 41, walk, 00
2025-06-15 04:00, 2025-06-15 04:41, 0, taxi, 41, walk, 00
2025-06-15 05:00, 2025-06-15 05:41, 0, taxi, 41, walk, 00
2025-06-15 06:00, 2025-06-15 06:41, 0, taxi, 41, walk, 00
2025-06-15 06:31, 2025-06-15 07:39, 0, walk, 09, taxi, 27
2025-06-15 07:00, 2025-06-15 07:41, 0, taxi, 41, walk, 00
2025-06-15 08:00, 2025-06-15 08:41, 0, taxi, 41, walk, 00
2025-06-15 09:00, 2025-06-15 09:41, 0, taxi, 41, walk, 00
2025-06-15 10:00, 2025-06-15 10:41, 0, taxi, 41, walk, 00
2025-06-15 10:31, 2025-06-15 11:39, 0, walk, 09, taxi, 27
2025-06-15 11:00, 2025-06-15 11:41, 0, taxi, 41, walk, 00
2025-06-15 12:00, 2025-06-15 12:41, 0, taxi, 41, walk, 00
2025-06-15 13:00, 2025-06-15 13:41, 0, taxi, 41, walk, 00
2025-06-15 14:00, 2025-06-15 14:41, 0, taxi, 41, walk, 00
2025-06-15 14:31, 2025-06-15 15:39, 0, walk, 09, taxi, 27
2025-06-15 15:00, 2025-06-15 15:41, 0, taxi, 41, walk, 00
2025-06-15 16:00, 2025-06-15 16:41, 0, taxi, 41, walk, 00
2025-06-15 17:00, 2025-06-15 17:41, 0, taxi, 41, walk, 00
2025-06-15 18:00, 2025-06-15 18:41, 0, taxi, 41, walk, 00
2025-06-15 19:00, 2025-06-15 19:41, 0, taxi, 41, walk, 00
2025-06-15 20:00, 2025-06-15 20:41, 0, taxi, 41, walk, 00
)__"sv;

constexpr auto const schleife_kleinpriebus_sunday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-15 02:00, 2025-06-15 02:41, 0, taxi, 41, walk, 00
2025-06-15 03:00, 2025-06-15 03:41, 0, taxi, 41, walk, 00
2025-06-15 04:00, 2025-06-15 04:41, 0, taxi, 41, walk, 00
2025-06-15 05:00, 2025-06-15 05:41, 0, taxi, 41, walk, 00
2025-06-15 06:00, 2025-06-15 06:41, 0, taxi, 41, walk, 00
2025-06-15 06:31, 2025-06-15 07:39, 0, walk, 09, taxi, 27
2025-06-15 07:00, 2025-06-15 07:41, 0, taxi, 41, walk, 00
2025-06-15 08:00, 2025-06-15 08:41, 0, taxi, 41, walk, 00
2025-06-15 09:00, 2025-06-15 09:41, 0, taxi, 41, walk, 00
2025-06-15 10:00, 2025-06-15 10:41, 0, taxi, 41, walk, 00
2025-06-15 10:31, 2025-06-15 11:39, 0, walk, 09, taxi, 27
2025-06-15 11:00, 2025-06-15 11:41, 0, taxi, 41, walk, 00
2025-06-15 12:00, 2025-06-15 12:41, 0, taxi, 41, walk, 00
2025-06-15 13:00, 2025-06-15 13:41, 0, taxi, 41, walk, 00
2025-06-15 14:00, 2025-06-15 14:41, 0, taxi, 41, walk, 00
2025-06-15 14:31, 2025-06-15 15:39, 0, walk, 09, taxi, 27
2025-06-15 15:00, 2025-06-15 15:41, 0, taxi, 41, walk, 00
2025-06-15 16:00, 2025-06-15 16:41, 0, taxi, 41, walk, 00
2025-06-15 17:00, 2025-06-15 17:41, 0, taxi, 41, walk, 00
2025-06-15 18:00, 2025-06-15 18:41, 0, taxi, 41, walk, 00
2025-06-15 19:00, 2025-06-15 19:41, 0, taxi, 41, walk, 00
2025-06-15 20:00, 2025-06-15 20:41, 0, taxi, 41, walk, 00
)__"sv;

TEST(odm, schleife_kleinpriebus_sunday) {
  auto const mix_result = mix(schleife_kleinpriebus_sunday_in);
  whitelist(mix_result, from_csv(schleife_kleinpriebus_sunday_whitelist));
}

constexpr auto const schleife_cottbus_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:02, 2025-06-16 03:07, 1, taxi, 13, walk, 07
2025-06-16 03:02, 2025-06-16 04:14, 1, taxi, 13, walk, 11
2025-06-16 03:07, 2025-06-16 05:14, 2, walk, 07, walk, 03
2025-06-16 04:02, 2025-06-16 05:14, 1, taxi, 13, walk, 03
2025-06-16 04:09, 2025-06-16 06:06, 4, walk, 14, walk, 08
2025-06-16 04:13, 2025-06-16 06:06, 4, taxi, 05, walk, 08
2025-06-16 04:42, 2025-06-16 06:16, 2, walk, 07, walk, 03
2025-06-16 05:02, 2025-06-16 06:16, 1, taxi, 13, walk, 03
2025-06-16 05:42, 2025-06-16 07:16, 2, walk, 07, walk, 03
2025-06-16 06:02, 2025-06-16 07:16, 1, taxi, 13, walk, 03
2025-06-16 06:07, 2025-06-16 08:16, 2, walk, 07, walk, 03
2025-06-16 07:02, 2025-06-16 08:16, 1, taxi, 13, walk, 03
2025-06-16 07:07, 2025-06-16 09:16, 2, walk, 07, walk, 03
2025-06-16 07:09, 2025-06-16 09:06, 4, walk, 14, walk, 08
2025-06-16 07:09, 2025-06-16 09:16, 3, walk, 14, walk, 03
2025-06-16 07:13, 2025-06-16 09:06, 4, taxi, 05, walk, 08
2025-06-16 08:02, 2025-06-16 09:16, 1, taxi, 13, walk, 03
2025-06-16 08:07, 2025-06-16 10:16, 2, walk, 07, walk, 03
2025-06-16 09:02, 2025-06-16 10:16, 1, taxi, 13, walk, 03
2025-06-16 09:05, 2025-06-16 11:06, 4, walk, 14, walk, 08
2025-06-16 09:07, 2025-06-16 11:14, 2, walk, 07, walk, 03
2025-06-16 09:09, 2025-06-16 11:06, 4, taxi, 05, walk, 08
2025-06-16 10:02, 2025-06-16 11:14, 1, taxi, 13, walk, 03
2025-06-16 10:07, 2025-06-16 12:14, 2, walk, 07, walk, 03
2025-06-16 11:02, 2025-06-16 12:14, 1, taxi, 13, walk, 03
2025-06-16 11:05, 2025-06-16 13:06, 4, walk, 14, walk, 08
2025-06-16 11:07, 2025-06-16 13:14, 2, walk, 07, walk, 03
2025-06-16 11:09, 2025-06-16 13:06, 4, taxi, 05, walk, 08
2025-06-16 12:02, 2025-06-16 13:14, 1, taxi, 13, walk, 03
2025-06-16 12:07, 2025-06-16 14:14, 2, walk, 07, walk, 03
2025-06-16 13:02, 2025-06-16 14:14, 1, taxi, 13, walk, 03
2025-06-16 13:05, 2025-06-16 14:48, 2, walk, 14, walk, 04
2025-06-16 13:07, 2025-06-16 15:16, 2, walk, 07, walk, 03
2025-06-16 13:09, 2025-06-16 14:48, 2, taxi, 05, walk, 04
2025-06-16 14:02, 2025-06-16 15:16, 1, taxi, 13, walk, 03
2025-06-16 14:07, 2025-06-16 16:16, 2, walk, 07, walk, 03
2025-06-16 15:02, 2025-06-16 16:16, 1, taxi, 13, walk, 03
2025-06-16 15:05, 2025-06-16 17:07, 4, walk, 14, walk, 09
2025-06-16 15:07, 2025-06-16 17:15, 2, walk, 07, walk, 03
2025-06-16 15:09, 2025-06-16 17:07, 4, taxi, 05, walk, 09
2025-06-16 15:50, 2025-06-16 18:07, 3, walk, 14, walk, 09
2025-06-16 15:50, 2025-06-17 14:48, 1, walk, 14, walk, 04
2025-06-16 16:02, 2025-06-16 17:15, 1, taxi, 13, walk, 03
2025-06-16 16:07, 2025-06-16 18:15, 2, walk, 07, walk, 03
2025-06-16 17:02, 2025-06-16 18:15, 1, taxi, 13, walk, 03
2025-06-16 17:07, 2025-06-16 19:14, 2, walk, 07, walk, 11
2025-06-16 18:02, 2025-06-16 19:14, 1, taxi, 13, walk, 11
2025-06-16 18:07, 2025-06-16 20:16, 2, walk, 07, walk, 03
2025-06-16 19:02, 2025-06-16 20:16, 1, taxi, 13, walk, 03
2025-06-16 19:07, 2025-06-16 21:16, 2, walk, 07, walk, 03
2025-06-16 20:02, 2025-06-16 21:16, 1, taxi, 13, walk, 03
)__"sv;

constexpr auto const schleife_cottbus_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:02, 2025-06-16 03:07, 1, taxi, 13, walk, 07
2025-06-16 03:02, 2025-06-16 04:14, 1, taxi, 13, walk, 11
2025-06-16 03:07, 2025-06-16 05:14, 2, walk, 07, walk, 03
2025-06-16 04:09, 2025-06-16 06:06, 4, walk, 14, walk, 08
2025-06-16 04:42, 2025-06-16 06:16, 2, walk, 07, walk, 03
2025-06-16 05:42, 2025-06-16 07:16, 2, walk, 07, walk, 03
2025-06-16 06:07, 2025-06-16 08:16, 2, walk, 07, walk, 03
2025-06-16 07:02, 2025-06-16 08:16, 1, taxi, 13, walk, 03
2025-06-16 07:07, 2025-06-16 09:16, 2, walk, 07, walk, 03
2025-06-16 07:09, 2025-06-16 09:06, 4, walk, 14, walk, 08
2025-06-16 07:09, 2025-06-16 09:16, 3, walk, 14, walk, 03
2025-06-16 08:02, 2025-06-16 09:16, 1, taxi, 13, walk, 03
2025-06-16 08:07, 2025-06-16 10:16, 2, walk, 07, walk, 03
2025-06-16 09:02, 2025-06-16 10:16, 1, taxi, 13, walk, 03
2025-06-16 09:05, 2025-06-16 11:06, 4, walk, 14, walk, 08
2025-06-16 09:07, 2025-06-16 11:14, 2, walk, 07, walk, 03
2025-06-16 10:02, 2025-06-16 11:14, 1, taxi, 13, walk, 03
2025-06-16 10:07, 2025-06-16 12:14, 2, walk, 07, walk, 03
2025-06-16 11:02, 2025-06-16 12:14, 1, taxi, 13, walk, 03
2025-06-16 11:05, 2025-06-16 13:06, 4, walk, 14, walk, 08
2025-06-16 11:07, 2025-06-16 13:14, 2, walk, 07, walk, 03
2025-06-16 12:02, 2025-06-16 13:14, 1, taxi, 13, walk, 03
2025-06-16 12:07, 2025-06-16 14:14, 2, walk, 07, walk, 03
2025-06-16 13:05, 2025-06-16 14:48, 2, walk, 14, walk, 04
2025-06-16 13:07, 2025-06-16 15:16, 2, walk, 07, walk, 03
2025-06-16 14:07, 2025-06-16 16:16, 2, walk, 07, walk, 03
2025-06-16 15:02, 2025-06-16 16:16, 1, taxi, 13, walk, 03
2025-06-16 15:05, 2025-06-16 17:07, 4, walk, 14, walk, 09
2025-06-16 15:07, 2025-06-16 17:15, 2, walk, 07, walk, 03
2025-06-16 15:50, 2025-06-16 18:07, 3, walk, 14, walk, 09
2025-06-16 15:50, 2025-06-17 14:48, 1, walk, 14, walk, 04
2025-06-16 16:07, 2025-06-16 18:15, 2, walk, 07, walk, 03
2025-06-16 17:02, 2025-06-16 18:15, 1, taxi, 13, walk, 03
2025-06-16 17:07, 2025-06-16 19:14, 2, walk, 07, walk, 11
2025-06-16 18:02, 2025-06-16 19:14, 1, taxi, 13, walk, 11
2025-06-16 18:07, 2025-06-16 20:16, 2, walk, 07, walk, 03
2025-06-16 19:02, 2025-06-16 20:16, 1, taxi, 13, walk, 03
2025-06-16 19:07, 2025-06-16 21:16, 2, walk, 07, walk, 03
2025-06-16 20:02, 2025-06-16 21:16, 1, taxi, 13, walk, 03
)__"sv;

TEST(odm, schleife_cottbus_monday) {
  auto const mix_result = mix(schleife_cottbus_monday_in);
  whitelist(mix_result, from_csv(schleife_cottbus_monday_whitelist));
}

constexpr auto const schleife_cottbus_sunday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-15 04:02, 2025-06-15 05:16, 1, taxi, 13, walk, 03
2025-06-15 06:02, 2025-06-15 07:16, 1, taxi, 13, walk, 03
2025-06-15 06:07, 2025-06-15 08:16, 2, walk, 07, walk, 03
2025-06-15 07:02, 2025-06-15 08:16, 1, taxi, 13, walk, 03
2025-06-15 08:02, 2025-06-15 09:16, 1, taxi, 13, walk, 03
2025-06-15 08:07, 2025-06-15 10:16, 2, walk, 07, walk, 03
2025-06-15 08:23, 2025-06-15 11:16, 2, walk, 14, walk, 03
2025-06-15 09:02, 2025-06-15 10:16, 1, taxi, 13, walk, 03
2025-06-15 10:02, 2025-06-15 11:16, 1, taxi, 13, walk, 03
2025-06-15 10:07, 2025-06-15 12:16, 2, walk, 07, walk, 03
2025-06-15 11:02, 2025-06-15 12:16, 1, taxi, 13, walk, 03
2025-06-15 12:02, 2025-06-15 13:16, 1, taxi, 13, walk, 03
2025-06-15 12:07, 2025-06-15 14:16, 2, walk, 07, walk, 03
2025-06-15 13:02, 2025-06-15 14:16, 1, taxi, 13, walk, 03
2025-06-15 14:02, 2025-06-15 15:16, 1, taxi, 13, walk, 03
2025-06-15 14:07, 2025-06-15 16:16, 2, walk, 07, walk, 03
2025-06-15 15:02, 2025-06-15 16:16, 1, taxi, 13, walk, 03
2025-06-15 15:23, 2025-06-16 14:48, 1, walk, 14, walk, 04
2025-06-15 16:02, 2025-06-15 17:16, 1, taxi, 13, walk, 03
2025-06-15 16:07, 2025-06-15 18:15, 2, walk, 07, walk, 03
2025-06-15 17:02, 2025-06-15 18:15, 1, taxi, 13, walk, 03
2025-06-15 18:02, 2025-06-15 19:14, 1, taxi, 13, walk, 11
2025-06-15 19:02, 2025-06-15 20:18, 1, taxi, 13, walk, 06
2025-06-15 20:02, 2025-06-15 21:19, 1, taxi, 13, walk, 07
)__"sv;

constexpr auto const schleife_cottbus_sunday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-15 04:02, 2025-06-15 05:16, 1, taxi, 13, walk, 03
2025-06-15 06:02, 2025-06-15 07:16, 1, taxi, 13, walk, 03
2025-06-15 06:07, 2025-06-15 08:16, 2, walk, 07, walk, 03
2025-06-15 07:02, 2025-06-15 08:16, 1, taxi, 13, walk, 03
2025-06-15 08:02, 2025-06-15 09:16, 1, taxi, 13, walk, 03
2025-06-15 08:07, 2025-06-15 10:16, 2, walk, 07, walk, 03
2025-06-15 08:23, 2025-06-15 11:16, 2, walk, 14, walk, 03
2025-06-15 10:02, 2025-06-15 11:16, 1, taxi, 13, walk, 03
2025-06-15 10:07, 2025-06-15 12:16, 2, walk, 07, walk, 03
2025-06-15 11:02, 2025-06-15 12:16, 1, taxi, 13, walk, 03
2025-06-15 12:02, 2025-06-15 13:16, 1, taxi, 13, walk, 03
2025-06-15 12:07, 2025-06-15 14:16, 2, walk, 07, walk, 03
2025-06-15 13:02, 2025-06-15 14:16, 1, taxi, 13, walk, 03
2025-06-15 14:02, 2025-06-15 15:16, 1, taxi, 13, walk, 03
2025-06-15 14:07, 2025-06-15 16:16, 2, walk, 07, walk, 03
2025-06-15 15:02, 2025-06-15 16:16, 1, taxi, 13, walk, 03
2025-06-15 15:23, 2025-06-16 14:48, 1, walk, 14, walk, 04
2025-06-15 16:02, 2025-06-15 17:16, 1, taxi, 13, walk, 03
2025-06-15 16:07, 2025-06-15 18:15, 2, walk, 07, walk, 03
2025-06-15 17:02, 2025-06-15 18:15, 1, taxi, 13, walk, 03
2025-06-15 18:02, 2025-06-15 19:14, 1, taxi, 13, walk, 11
2025-06-15 19:02, 2025-06-15 20:18, 1, taxi, 13, walk, 06
2025-06-15 20:02, 2025-06-15 21:19, 1, taxi, 13, walk, 07
)__"sv;

TEST(odm, schleife_cottbus_sunday) {
  auto const mix_result = mix(schleife_cottbus_sunday_in);
  whitelist(mix_result, from_csv(schleife_cottbus_sunday_whitelist));
}

constexpr auto const uhsmannsdorfbahnhof_schleifeschulzentrum_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 01:47, 2025-09-22 02:39, 1, walk, 01, taxi, 08
2025-09-22 01:47, 2025-09-22 02:50, 2, walk, 01, walk, 13
2025-09-22 02:37, 2025-09-22 03:39, 1, walk, 01, taxi, 08
2025-09-22 02:37, 2025-09-22 04:11, 2, walk, 01, taxi, 25
2025-09-22 02:37, 2025-09-22 04:37, 2, walk, 01, walk, 14
2025-09-22 04:00, 2025-09-22 04:39, 0, walk, 01, taxi, 08
2025-09-22 04:00, 2025-09-22 04:50, 1, walk, 01, walk, 13
2025-09-22 04:17, 2025-09-22 06:20, 1, walk, 10, taxi, 24
2025-09-22 05:00, 2025-09-22 05:39, 0, walk, 01, taxi, 08
2025-09-22 05:00, 2025-09-22 06:15, 1, walk, 01, taxi, 25
2025-09-22 05:00, 2025-09-22 06:37, 1, walk, 01, walk, 14
2025-09-22 06:00, 2025-09-22 06:39, 0, walk, 01, taxi, 08
2025-09-22 06:00, 2025-09-22 06:50, 1, walk, 01, walk, 13
2025-09-22 07:00, 2025-09-22 07:39, 0, walk, 01, taxi, 08
2025-09-22 07:00, 2025-09-22 08:15, 1, walk, 01, taxi, 25
2025-09-22 07:00, 2025-09-22 08:37, 1, walk, 01, walk, 14
2025-09-22 08:00, 2025-09-22 08:39, 0, walk, 01, taxi, 08
2025-09-22 08:00, 2025-09-22 08:50, 1, walk, 01, walk, 13
2025-09-22 09:00, 2025-09-22 09:39, 0, walk, 01, taxi, 08
2025-09-22 09:00, 2025-09-22 09:41, 1, walk, 01, walk, 02
2025-09-22 10:00, 2025-09-22 10:39, 0, walk, 01, taxi, 08
2025-09-22 10:00, 2025-09-22 10:40, 1, walk, 01, walk, 02
2025-09-22 11:00, 2025-09-22 11:39, 0, walk, 01, taxi, 08
2025-09-22 11:00, 2025-09-22 11:40, 1, walk, 01, walk, 02
2025-09-22 12:00, 2025-09-22 12:39, 0, walk, 01, taxi, 08
2025-09-22 12:00, 2025-09-22 12:45, 1, walk, 01, walk, 02
2025-09-22 13:00, 2025-09-22 13:39, 0, walk, 01, taxi, 08
2025-09-22 13:00, 2025-09-22 13:40, 1, walk, 01, walk, 02
2025-09-22 14:00, 2025-09-22 14:39, 0, walk, 01, taxi, 08
2025-09-22 14:00, 2025-09-22 14:50, 1, walk, 01, walk, 13
2025-09-22 15:00, 2025-09-22 15:39, 0, walk, 01, taxi, 08
2025-09-22 15:00, 2025-09-22 15:50, 1, walk, 01, walk, 13
2025-09-22 16:00, 2025-09-22 16:39, 0, walk, 01, taxi, 08
2025-09-22 16:00, 2025-09-22 16:42, 1, walk, 01, walk, 02
2025-09-22 16:24, 2025-09-22 18:20, 1, walk, 10, taxi, 24
2025-09-22 17:00, 2025-09-22 17:39, 0, walk, 01, taxi, 08
2025-09-22 17:00, 2025-09-22 18:15, 1, walk, 01, taxi, 25
2025-09-22 18:00, 2025-09-22 18:39, 0, walk, 01, taxi, 08
2025-09-22 18:00, 2025-09-22 19:11, 1, walk, 01, taxi, 25
2025-09-22 19:00, 2025-09-22 19:39, 0, walk, 01, taxi, 08
2025-09-22 20:00, 2025-09-22 20:39, 0, walk, 01, taxi, 08
2025-09-22 20:00, 2025-09-23 02:50, 1, walk, 01, walk, 13
)__"sv;

constexpr auto const uhsmannsdorfbahnhof_schleifeschulzentrum_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 05:00, 2025-09-22 05:39, 0, walk, 01, taxi, 08
2025-09-22 07:00, 2025-09-22 07:39, 0, walk, 01, taxi, 08
2025-09-22 20:00, 2025-09-22 20:39, 0, walk, 01, taxi, 08
)__"sv;

constexpr auto const uhsmannsdorfbahnhof_schleifeschulzentrum_monday_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 02:37, 2025-09-22 04:11, 2, walk, 01, taxi, 25
2025-09-22 04:17, 2025-09-22 06:20, 1, walk, 10, taxi, 24
2025-09-22 05:00, 2025-09-22 06:15, 1, walk, 01, taxi, 25
2025-09-22 05:00, 2025-09-22 06:37, 1, walk, 01, walk, 14
2025-09-22 06:00, 2025-09-22 06:50, 1, walk, 01, walk, 13
2025-09-22 07:00, 2025-09-22 08:15, 1, walk, 01, taxi, 25
2025-09-22 07:00, 2025-09-22 08:37, 1, walk, 01, walk, 14
2025-09-22 14:00, 2025-09-22 14:50, 1, walk, 01, walk, 13
2025-09-22 15:00, 2025-09-22 15:50, 1, walk, 01, walk, 13
2025-09-22 16:24, 2025-09-22 18:20, 1, walk, 10, taxi, 24
2025-09-22 17:00, 2025-09-22 18:15, 1, walk, 01, taxi, 25
2025-09-22 18:00, 2025-09-22 19:11, 1, walk, 01, taxi, 25
)__"sv;

TEST(odm, uhsmannsdorfbahnhof_schleifeschulzentrum_monday) {
  auto const mix_result =
      mix(uhsmannsdorfbahnhof_schleifeschulzentrum_monday_in);
  whitelist(
      mix_result,
      from_csv(uhsmannsdorfbahnhof_schleifeschulzentrum_monday_whitelist));
  blacklist(
      mix_result,
      from_csv(uhsmannsdorfbahnhof_schleifeschulzentrum_monday_blacklist));
}

constexpr auto const badmuskau_pechern_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:00, 2025-06-16 02:22, 0, taxi, 22, walk, 00
2025-06-16 03:00, 2025-06-16 03:22, 0, taxi, 22, walk, 00
2025-06-16 03:08, 2025-06-16 03:41, 0, walk, 05, taxi, 17
2025-06-16 03:08, 2025-06-16 04:45, 1, walk, 05, walk, 13
2025-06-16 03:52, 2025-06-16 04:24, 0, walk, 05, taxi, 21
2025-06-16 03:52, 2025-06-16 04:45, 1, taxi, 11, walk, 13
2025-06-16 03:54, 2025-06-16 04:45, 0, taxi, 09, walk, 13
2025-06-16 03:54, 2025-06-16 05:35, 1, taxi, 09, walk, 13
2025-06-16 04:00, 2025-06-16 04:22, 0, taxi, 22, walk, 00
2025-06-16 04:08, 2025-06-16 04:41, 0, walk, 05, taxi, 17
2025-06-16 04:12, 2025-06-16 04:44, 0, walk, 06, taxi, 20
2025-06-16 04:18, 2025-06-16 04:50, 0, walk, 05, taxi, 21
2025-06-16 04:38, 2025-06-16 05:10, 0, walk, 05, taxi, 17
2025-06-16 04:38, 2025-06-16 05:11, 0, walk, 05, taxi, 17
2025-06-16 04:43, 2025-06-16 05:14, 0, walk, 05, taxi, 20
2025-06-16 04:43, 2025-06-16 05:46, 1, walk, 05, taxi, 13
2025-06-16 04:47, 2025-06-16 05:19, 0, walk, 05, taxi, 21
2025-06-16 05:00, 2025-06-16 05:22, 0, taxi, 22, walk, 00
2025-06-16 05:05, 2025-06-16 05:40, 0, walk, 05, taxi, 17
2025-06-16 05:13, 2025-06-16 05:45, 0, walk, 05, taxi, 21
2025-06-16 05:23, 2025-06-16 05:55, 0, walk, 06, taxi, 20
2025-06-16 05:35, 2025-06-16 06:10, 0, walk, 05, taxi, 17
2025-06-16 05:43, 2025-06-16 06:14, 0, walk, 05, taxi, 20
2025-06-16 05:43, 2025-06-16 06:42, 1, walk, 05, taxi, 05
2025-06-16 05:43, 2025-06-16 06:45, 1, walk, 05, walk, 13
2025-06-16 05:52, 2025-06-16 06:24, 0, walk, 05, taxi, 21
2025-06-16 05:54, 2025-06-16 06:45, 0, taxi, 09, walk, 13
2025-06-16 05:54, 2025-06-16 07:35, 1, taxi, 09, walk, 13
2025-06-16 06:00, 2025-06-16 06:22, 0, taxi, 22, walk, 00
2025-06-16 06:08, 2025-06-16 06:41, 0, walk, 05, taxi, 17
2025-06-16 06:52, 2025-06-16 07:24, 0, walk, 05, taxi, 21
2025-06-16 07:00, 2025-06-16 07:22, 0, taxi, 22, walk, 00
2025-06-16 07:08, 2025-06-16 07:41, 0, walk, 05, taxi, 17
2025-06-16 07:18, 2025-06-16 07:50, 0, walk, 05, taxi, 21
2025-06-16 07:28, 2025-06-16 08:00, 0, walk, 06, taxi, 20
2025-06-16 07:52, 2025-06-16 08:24, 0, walk, 05, taxi, 21
2025-06-16 08:00, 2025-06-16 08:22, 0, taxi, 22, walk, 00
2025-06-16 08:08, 2025-06-16 08:41, 0, walk, 05, taxi, 17
2025-06-16 08:08, 2025-06-16 09:16, 1, walk, 05, walk, 13
2025-06-16 08:25, 2025-06-16 09:16, 0, taxi, 09, walk, 13
2025-06-16 08:25, 2025-06-16 09:52, 1, taxi, 09, walk, 13
2025-06-16 08:40, 2025-06-16 09:12, 0, walk, 06, taxi, 20
2025-06-16 08:52, 2025-06-16 09:24, 0, walk, 05, taxi, 21
2025-06-16 09:00, 2025-06-16 09:22, 0, taxi, 22, walk, 00
2025-06-16 09:08, 2025-06-16 09:41, 0, walk, 05, taxi, 17
2025-06-16 09:12, 2025-06-16 09:52, 0, taxi, 12, walk, 13
2025-06-16 09:12, 2025-06-16 10:29, 1, taxi, 12, walk, 13
2025-06-16 09:14, 2025-06-16 09:46, 0, walk, 05, taxi, 21
2025-06-16 09:52, 2025-06-16 10:24, 0, walk, 05, taxi, 21
2025-06-16 09:53, 2025-06-16 10:24, 0, walk, 05, taxi, 17
2025-06-16 09:53, 2025-06-16 10:45, 1, walk, 05, walk, 13
2025-06-16 09:54, 2025-06-16 10:45, 0, taxi, 09, walk, 13
2025-06-16 09:54, 2025-06-16 11:03, 1, taxi, 09, walk, 13
2025-06-16 09:56, 2025-06-16 10:45, 1, taxi, 17, walk, 13
2025-06-16 10:00, 2025-06-16 10:22, 0, taxi, 22, walk, 00
2025-06-16 10:08, 2025-06-16 10:41, 0, walk, 05, taxi, 17
2025-06-16 10:40, 2025-06-16 11:12, 0, walk, 06, taxi, 20
2025-06-16 10:52, 2025-06-16 11:24, 0, walk, 05, taxi, 21
2025-06-16 10:53, 2025-06-16 11:24, 0, walk, 05, taxi, 17
2025-06-16 10:53, 2025-06-16 11:45, 1, walk, 05, walk, 13
2025-06-16 10:54, 2025-06-16 11:45, 0, taxi, 09, walk, 13
2025-06-16 10:54, 2025-06-16 12:29, 1, taxi, 09, walk, 13
2025-06-16 11:00, 2025-06-16 11:22, 0, taxi, 22, walk, 00
2025-06-16 11:08, 2025-06-16 11:41, 0, walk, 05, taxi, 17
2025-06-16 11:14, 2025-06-16 11:46, 0, walk, 05, taxi, 21
2025-06-16 11:22, 2025-06-16 11:54, 0, walk, 05, taxi, 21
2025-06-16 11:52, 2025-06-16 12:24, 0, walk, 05, taxi, 21
2025-06-16 11:53, 2025-06-16 12:24, 0, walk, 05, taxi, 17
2025-06-16 11:53, 2025-06-16 12:45, 1, walk, 05, walk, 13
2025-06-16 11:54, 2025-06-16 12:45, 0, taxi, 09, walk, 13
2025-06-16 11:54, 2025-06-16 13:35, 1, taxi, 09, walk, 13
2025-06-16 11:56, 2025-06-16 12:45, 1, taxi, 17, walk, 13
2025-06-16 12:00, 2025-06-16 12:22, 0, taxi, 22, walk, 00
2025-06-16 12:08, 2025-06-16 12:41, 0, walk, 05, taxi, 17
2025-06-16 12:22, 2025-06-16 12:54, 0, walk, 05, taxi, 21
2025-06-16 12:40, 2025-06-16 13:12, 0, walk, 06, taxi, 20
2025-06-16 12:52, 2025-06-16 13:24, 0, walk, 05, taxi, 21
2025-06-16 12:53, 2025-06-16 13:24, 0, walk, 05, taxi, 17
2025-06-16 12:53, 2025-06-16 13:45, 1, walk, 05, walk, 13
2025-06-16 12:54, 2025-06-16 13:45, 0, taxi, 09, walk, 13
2025-06-16 13:00, 2025-06-16 13:22, 0, taxi, 22, walk, 00
2025-06-16 13:08, 2025-06-16 13:41, 0, walk, 05, taxi, 17
2025-06-16 13:14, 2025-06-16 13:46, 0, walk, 05, taxi, 21
2025-06-16 13:52, 2025-06-16 14:24, 0, walk, 05, taxi, 21
2025-06-16 13:53, 2025-06-16 14:24, 0, walk, 05, taxi, 17
2025-06-16 14:00, 2025-06-16 14:22, 0, taxi, 22, walk, 00
2025-06-16 14:08, 2025-06-16 14:41, 0, walk, 05, taxi, 17
2025-06-16 14:08, 2025-06-16 15:47, 1, walk, 05, walk, 13
2025-06-16 14:40, 2025-06-16 15:12, 0, walk, 06, taxi, 20
2025-06-16 14:52, 2025-06-16 15:24, 0, walk, 05, taxi, 21
2025-06-16 14:54, 2025-06-16 15:47, 0, taxi, 09, walk, 13
2025-06-16 15:00, 2025-06-16 15:22, 0, taxi, 22, walk, 00
2025-06-16 15:08, 2025-06-16 15:41, 0, walk, 05, taxi, 17
2025-06-16 15:08, 2025-06-16 16:45, 1, walk, 05, walk, 13
2025-06-16 15:14, 2025-06-16 15:46, 0, walk, 05, taxi, 21
2025-06-16 15:37, 2025-06-16 16:45, 1, taxi, 14, walk, 13
2025-06-16 15:38, 2025-06-16 16:10, 0, walk, 06, taxi, 20
2025-06-16 15:52, 2025-06-16 16:24, 0, walk, 05, taxi, 21
2025-06-16 15:54, 2025-06-16 16:45, 0, taxi, 09, walk, 13
2025-06-16 15:54, 2025-06-16 17:35, 1, taxi, 09, walk, 13
2025-06-16 15:59, 2025-06-16 16:31, 0, walk, 05, taxi, 21
2025-06-16 16:00, 2025-06-16 16:22, 0, taxi, 22, walk, 00
2025-06-16 16:08, 2025-06-16 16:41, 0, walk, 05, taxi, 17
2025-06-16 16:15, 2025-06-17 04:35, 2, taxi, 15, walk, 13
2025-06-16 16:52, 2025-06-16 17:24, 0, walk, 05, taxi, 21
2025-06-16 17:00, 2025-06-16 17:22, 0, taxi, 22, walk, 00
2025-06-16 17:08, 2025-06-16 17:41, 0, walk, 05, taxi, 17
2025-06-16 17:52, 2025-06-16 18:24, 0, walk, 05, taxi, 21
2025-06-16 18:00, 2025-06-16 18:22, 0, taxi, 22, walk, 00
2025-06-16 18:08, 2025-06-16 18:41, 0, walk, 05, taxi, 17
2025-06-16 18:52, 2025-06-16 19:24, 0, walk, 05, taxi, 21
2025-06-16 19:00, 2025-06-16 19:22, 0, taxi, 22, walk, 00
2025-06-16 19:08, 2025-06-16 19:41, 0, walk, 05, taxi, 17
2025-06-16 20:00, 2025-06-16 20:22, 0, taxi, 22, walk, 00
)__"sv;

constexpr auto const badmuskau_pechern_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-06-16 02:00, 2025-06-16 02:22, 0, taxi, 22, walk, 00
2025-06-16 03:08, 2025-06-16 03:41, 0, walk, 05, taxi, 17
2025-06-16 03:08, 2025-06-16 04:45, 1, walk, 05, walk, 13
2025-06-16 03:54, 2025-06-16 04:45, 0, taxi, 09, walk, 13
2025-06-16 04:38, 2025-06-16 05:10, 0, walk, 05, taxi, 17
2025-06-16 04:38, 2025-06-16 05:11, 0, walk, 05, taxi, 17
2025-06-16 04:43, 2025-06-16 05:14, 0, walk, 05, taxi, 20
2025-06-16 05:05, 2025-06-16 05:40, 0, walk, 05, taxi, 17
2025-06-16 05:43, 2025-06-16 06:45, 1, walk, 05, walk, 13
2025-06-16 07:08, 2025-06-16 07:41, 0, walk, 05, taxi, 17
2025-06-16 07:18, 2025-06-16 07:50, 0, walk, 05, taxi, 21
2025-06-16 07:28, 2025-06-16 08:00, 0, walk, 06, taxi, 20
2025-06-16 08:08, 2025-06-16 09:16, 1, walk, 05, walk, 13
2025-06-16 09:53, 2025-06-16 10:45, 1, walk, 05, walk, 13
2025-06-16 10:53, 2025-06-16 11:45, 1, walk, 05, walk, 13
2025-06-16 11:53, 2025-06-16 12:45, 1, walk, 05, walk, 13
2025-06-16 12:53, 2025-06-16 13:45, 1, walk, 05, walk, 13
2025-06-16 14:08, 2025-06-16 14:41, 0, walk, 05, taxi, 17
2025-06-16 14:08, 2025-06-16 15:47, 1, walk, 05, walk, 13
2025-06-16 14:54, 2025-06-16 15:47, 0, taxi, 09, walk, 13
2025-06-16 15:08, 2025-06-16 16:45, 1, walk, 05, walk, 13
2025-06-16 15:54, 2025-06-16 16:45, 0, taxi, 09, walk, 13
2025-06-16 17:00, 2025-06-16 17:22, 0, taxi, 22, walk, 00
2025-06-16 17:08, 2025-06-16 17:41, 0, walk, 05, taxi, 17
2025-06-16 18:00, 2025-06-16 18:22, 0, taxi, 22, walk, 00
2025-06-16 18:08, 2025-06-16 18:41, 0, walk, 05, taxi, 17
2025-06-16 19:00, 2025-06-16 19:22, 0, taxi, 22, walk, 00
2025-06-16 19:08, 2025-06-16 19:41, 0, walk, 05, taxi, 17
2025-06-16 20:00, 2025-06-16 20:22, 0, taxi, 22, walk, 00
)__"sv;

TEST(odm, badmuskau_pechern_monday) {
  auto const mix_result = mix(badmuskau_pechern_monday_in);
  whitelist(mix_result, from_csv(badmuskau_pechern_monday_whitelist));
}

constexpr auto const pechernkolonie_badmuskau_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 02:00, 2025-09-22 02:24, 0, taxi, 24, walk, 00
2025-09-22 02:40, 2025-09-22 03:04, 0, taxi, 24, walk, 00
2025-09-22 02:45, 2025-09-22 03:18, 0, taxi, 22, walk, 05
2025-09-22 02:46, 2025-09-22 03:28, 0, taxi, 22, walk, 14
2025-09-22 03:20, 2025-09-22 03:44, 0, taxi, 24, walk, 00
2025-09-22 03:27, 2025-09-22 04:03, 0, taxi, 19, walk, 06
2025-09-22 03:45, 2025-09-22 04:18, 0, taxi, 22, walk, 05
2025-09-22 03:51, 2025-09-22 04:25, 0, taxi, 22, walk, 06
2025-09-22 03:55, 2025-09-22 04:58, 1, taxi, 19, walk, 06
2025-09-22 03:56, 2025-09-22 04:32, 0, taxi, 22, walk, 08
2025-09-22 04:00, 2025-09-22 04:24, 0, taxi, 24, walk, 00
2025-09-22 04:15, 2025-09-22 04:48, 0, taxi, 22, walk, 05
2025-09-22 04:22, 2025-09-22 04:57, 0, walk, 02, taxi, 12
2025-09-22 04:22, 2025-09-22 04:57, 0, walk, 02, taxi, 12
2025-09-22 04:22, 2025-09-22 05:52, 1, walk, 02, walk, 06
2025-09-22 04:25, 2025-09-22 04:58, 0, taxi, 21, walk, 06
2025-09-22 04:40, 2025-09-22 05:04, 0, taxi, 24, walk, 00
2025-09-22 04:41, 2025-09-22 05:15, 0, taxi, 22, walk, 05
2025-09-22 04:43, 2025-09-22 05:26, 0, taxi, 22, walk, 14
2025-09-22 04:51, 2025-09-22 05:27, 0, taxi, 22, walk, 08
2025-09-22 05:02, 2025-09-22 05:36, 0, taxi, 22, walk, 06
2025-09-22 05:11, 2025-09-22 05:45, 0, taxi, 22, walk, 05
2025-09-22 05:16, 2025-09-22 05:52, 0, taxi, 19, walk, 06
2025-09-22 05:20, 2025-09-22 05:44, 0, taxi, 24, walk, 00
2025-09-22 05:22, 2025-09-22 05:57, 0, walk, 02, taxi, 12
2025-09-22 05:22, 2025-09-22 06:03, 1, walk, 02, walk, 06
2025-09-22 05:27, 2025-09-22 06:03, 0, taxi, 19, walk, 06
2025-09-22 05:45, 2025-09-22 06:18, 0, taxi, 22, walk, 05
2025-09-22 05:46, 2025-09-22 06:28, 0, taxi, 22, walk, 14
2025-09-22 06:00, 2025-09-22 06:24, 0, taxi, 24, walk, 00
2025-09-22 06:27, 2025-09-22 07:03, 0, taxi, 19, walk, 06
2025-09-22 06:40, 2025-09-22 07:04, 0, taxi, 24, walk, 00
2025-09-22 06:45, 2025-09-22 07:18, 0, taxi, 22, walk, 05
2025-09-22 06:46, 2025-09-22 07:28, 0, taxi, 22, walk, 14
2025-09-22 06:56, 2025-09-22 07:32, 0, taxi, 22, walk, 08
2025-09-22 07:07, 2025-09-22 07:41, 0, taxi, 22, walk, 06
2025-09-22 07:20, 2025-09-22 07:44, 0, taxi, 24, walk, 00
2025-09-22 07:22, 2025-09-22 07:57, 0, walk, 02, taxi, 12
2025-09-22 07:22, 2025-09-22 08:03, 1, walk, 02, walk, 06
2025-09-22 07:27, 2025-09-22 08:03, 0, taxi, 19, walk, 06
2025-09-22 07:45, 2025-09-22 08:18, 0, taxi, 22, walk, 05
2025-09-22 07:46, 2025-09-22 08:28, 0, taxi, 22, walk, 14
2025-09-22 08:00, 2025-09-22 08:24, 0, taxi, 24, walk, 00
2025-09-22 08:19, 2025-09-22 08:53, 0, taxi, 22, walk, 06
2025-09-22 08:27, 2025-09-22 09:03, 0, taxi, 19, walk, 06
2025-09-22 08:40, 2025-09-22 09:04, 0, taxi, 24, walk, 00
2025-09-22 08:45, 2025-09-22 09:18, 0, taxi, 22, walk, 05
2025-09-22 08:52, 2025-09-22 09:28, 0, taxi, 22, walk, 08
2025-09-22 09:20, 2025-09-22 09:44, 0, taxi, 24, walk, 00
2025-09-22 09:27, 2025-09-22 10:03, 0, taxi, 19, walk, 06
2025-09-22 09:31, 2025-09-22 10:13, 0, taxi, 22, walk, 14
2025-09-22 09:45, 2025-09-22 10:18, 0, taxi, 22, walk, 05
2025-09-22 09:46, 2025-09-22 10:28, 0, taxi, 22, walk, 14
2025-09-22 10:00, 2025-09-22 10:24, 0, taxi, 24, walk, 00
2025-09-22 10:16, 2025-09-22 10:50, 0, walk, 02, taxi, 08
2025-09-22 10:16, 2025-09-22 11:03, 1, walk, 02, walk, 06
2025-09-22 10:19, 2025-09-22 10:53, 0, taxi, 22, walk, 06
2025-09-22 10:27, 2025-09-22 11:03, 0, taxi, 19, walk, 06
2025-09-22 10:31, 2025-09-22 11:13, 0, taxi, 22, walk, 14
2025-09-22 10:40, 2025-09-22 11:04, 0, taxi, 24, walk, 00
2025-09-22 10:45, 2025-09-22 11:18, 0, taxi, 22, walk, 05
2025-09-22 10:50, 2025-09-22 11:25, 0, walk, 02, taxi, 12
2025-09-22 10:50, 2025-09-22 11:33, 1, walk, 02, walk, 06
2025-09-22 10:52, 2025-09-22 11:28, 0, taxi, 22, walk, 08
2025-09-22 10:57, 2025-09-22 11:33, 0, taxi, 19, walk, 06
2025-09-22 11:20, 2025-09-22 11:44, 0, taxi, 24, walk, 00
2025-09-22 11:22, 2025-09-22 11:57, 0, walk, 02, taxi, 12
2025-09-22 11:22, 2025-09-22 12:03, 1, walk, 02, walk, 06
2025-09-22 11:27, 2025-09-22 12:03, 0, taxi, 19, walk, 06
2025-09-22 11:31, 2025-09-22 12:13, 0, taxi, 22, walk, 14
2025-09-22 11:45, 2025-09-22 12:18, 0, taxi, 22, walk, 05
2025-09-22 11:46, 2025-09-22 12:28, 0, taxi, 22, walk, 14
2025-09-22 11:57, 2025-09-22 12:33, 0, taxi, 19, walk, 06
2025-09-22 12:00, 2025-09-22 12:24, 0, taxi, 24, walk, 00
2025-09-22 12:16, 2025-09-22 12:51, 0, walk, 02, taxi, 08
2025-09-22 12:16, 2025-09-22 13:03, 1, walk, 02, walk, 06
2025-09-22 12:19, 2025-09-22 12:53, 0, taxi, 22, walk, 06
2025-09-22 12:27, 2025-09-22 13:03, 0, taxi, 19, walk, 06
2025-09-22 12:31, 2025-09-22 13:13, 0, taxi, 22, walk, 14
2025-09-22 12:40, 2025-09-22 13:04, 0, taxi, 24, walk, 00
2025-09-22 12:45, 2025-09-22 13:18, 0, taxi, 22, walk, 05
2025-09-22 12:52, 2025-09-22 13:28, 0, taxi, 22, walk, 08
2025-09-22 13:20, 2025-09-22 13:44, 0, taxi, 24, walk, 00
2025-09-22 13:22, 2025-09-22 13:57, 0, walk, 02, taxi, 12
2025-09-22 13:22, 2025-09-22 14:03, 1, walk, 02, walk, 06
2025-09-22 13:27, 2025-09-22 14:03, 0, taxi, 19, walk, 06
2025-09-22 13:29, 2025-09-22 15:45, 2, walk, 01, taxi, 20
2025-09-22 13:29, 2025-09-22 15:58, 3, walk, 01, taxi, 15
2025-09-22 13:29, 2025-09-22 16:03, 3, walk, 01, walk, 06
2025-09-22 13:31, 2025-09-22 14:13, 0, taxi, 22, walk, 14
2025-09-22 13:45, 2025-09-22 14:18, 0, taxi, 22, walk, 05
2025-09-22 13:46, 2025-09-22 14:28, 0, taxi, 22, walk, 14
2025-09-22 14:00, 2025-09-22 14:24, 0, taxi, 24, walk, 00
2025-09-22 14:19, 2025-09-22 14:53, 0, taxi, 22, walk, 06
2025-09-22 14:27, 2025-09-22 15:03, 0, taxi, 19, walk, 06
2025-09-22 14:40, 2025-09-22 15:04, 0, taxi, 24, walk, 00
2025-09-22 14:45, 2025-09-22 15:18, 0, taxi, 22, walk, 05
2025-09-22 14:52, 2025-09-22 15:28, 0, taxi, 22, walk, 08
2025-09-22 15:17, 2025-09-22 15:51, 0, taxi, 22, walk, 06
2025-09-22 15:20, 2025-09-22 15:44, 0, taxi, 24, walk, 00
2025-09-22 15:27, 2025-09-22 16:03, 0, taxi, 19, walk, 06
2025-09-22 15:37, 2025-09-22 16:13, 0, taxi, 22, walk, 08
2025-09-22 15:45, 2025-09-22 16:18, 0, taxi, 22, walk, 05
2025-09-22 15:46, 2025-09-22 16:28, 0, taxi, 22, walk, 14
2025-09-22 15:50, 2025-09-22 16:25, 0, walk, 02, taxi, 12
2025-09-22 15:50, 2025-09-22 17:03, 1, walk, 02, walk, 06
2025-09-22 16:00, 2025-09-22 16:24, 0, taxi, 24, walk, 00
2025-09-22 16:27, 2025-09-22 17:03, 0, taxi, 19, walk, 06
2025-09-22 16:40, 2025-09-22 17:04, 0, taxi, 24, walk, 00
2025-09-22 16:45, 2025-09-22 17:18, 0, taxi, 22, walk, 05
2025-09-22 16:46, 2025-09-22 17:28, 0, taxi, 22, walk, 14
2025-09-22 17:20, 2025-09-22 17:44, 0, taxi, 24, walk, 00
2025-09-22 17:22, 2025-09-22 17:57, 0, walk, 02, taxi, 12
2025-09-22 17:22, 2025-09-22 18:03, 1, walk, 02, walk, 06
2025-09-22 17:27, 2025-09-22 18:03, 0, taxi, 19, walk, 06
2025-09-22 17:45, 2025-09-22 18:18, 0, taxi, 22, walk, 05
2025-09-22 17:46, 2025-09-22 18:28, 0, taxi, 22, walk, 14
2025-09-22 18:00, 2025-09-22 18:24, 0, taxi, 24, walk, 00
2025-09-22 18:27, 2025-09-22 19:03, 0, taxi, 19, walk, 06
2025-09-22 18:40, 2025-09-22 19:04, 0, taxi, 24, walk, 00
2025-09-22 18:45, 2025-09-22 19:18, 0, taxi, 22, walk, 05
2025-09-22 18:46, 2025-09-22 19:28, 0, taxi, 22, walk, 14
2025-09-22 18:55, 2025-09-23 04:03, 1, taxi, 19, walk, 06
2025-09-22 19:20, 2025-09-22 19:44, 0, taxi, 24, walk, 00
2025-09-22 20:00, 2025-09-22 20:24, 0, taxi, 24, walk, 00
2025-09-22 20:40, 2025-09-22 21:04, 0, taxi, 24, walk, 00
)__"sv;

constexpr auto const pechernkolonie_badmuskau_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 02:00, 2025-09-22 02:24, 0, taxi, 24, walk, 00
2025-09-22 02:40, 2025-09-22 03:04, 0, taxi, 24, walk, 00
2025-09-22 03:20, 2025-09-22 03:44, 0, taxi, 24, walk, 00
2025-09-22 03:27, 2025-09-22 04:03, 0, taxi, 19, walk, 06
2025-09-22 04:22, 2025-09-22 04:57, 0, walk, 02, taxi, 12
2025-09-22 04:22, 2025-09-22 04:57, 0, walk, 02, taxi, 12
2025-09-22 04:22, 2025-09-22 05:52, 1, walk, 02, walk, 06
2025-09-22 05:22, 2025-09-22 06:03, 1, walk, 02, walk, 06
2025-09-22 06:27, 2025-09-22 07:03, 0, taxi, 19, walk, 06
2025-09-22 07:22, 2025-09-22 08:03, 1, walk, 02, walk, 06
2025-09-22 08:27, 2025-09-22 09:03, 0, taxi, 19, walk, 06
2025-09-22 09:27, 2025-09-22 10:03, 0, taxi, 19, walk, 06
2025-09-22 10:16, 2025-09-22 11:03, 1, walk, 02, walk, 06
2025-09-22 10:50, 2025-09-22 11:33, 1, walk, 02, walk, 06
2025-09-22 11:22, 2025-09-22 12:03, 1, walk, 02, walk, 06
2025-09-22 12:16, 2025-09-22 13:03, 1, walk, 02, walk, 06
2025-09-22 13:22, 2025-09-22 14:03, 1, walk, 02, walk, 06
2025-09-22 13:29, 2025-09-22 16:03, 3, walk, 01, walk, 06
2025-09-22 14:27, 2025-09-22 15:03, 0, taxi, 19, walk, 06
2025-09-22 14:40, 2025-09-22 15:04, 0, taxi, 24, walk, 00
2025-09-22 14:45, 2025-09-22 15:18, 0, taxi, 22, walk, 05
2025-09-22 15:20, 2025-09-22 15:44, 0, taxi, 24, walk, 00
2025-09-22 15:50, 2025-09-22 16:25, 0, walk, 02, taxi, 12
2025-09-22 15:50, 2025-09-22 17:03, 1, walk, 02, walk, 06
2025-09-22 17:22, 2025-09-22 18:03, 1, walk, 02, walk, 06
2025-09-22 18:27, 2025-09-22 19:03, 0, taxi, 19, walk, 06
2025-09-22 18:40, 2025-09-22 19:04, 0, taxi, 24, walk, 00
2025-09-22 18:45, 2025-09-22 19:18, 0, taxi, 22, walk, 05
2025-09-22 19:20, 2025-09-22 19:44, 0, taxi, 24, walk, 00
2025-09-22 20:00, 2025-09-22 20:24, 0, taxi, 24, walk, 00
2025-09-22 20:40, 2025-09-22 21:04, 0, taxi, 24, walk, 00
)__"sv;

constexpr auto const pechernkolonie_badmuskau_monday_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 02:45, 2025-09-22 03:18, 0, taxi, 22, walk, 05
2025-09-22 03:20, 2025-09-22 03:44, 0, taxi, 24, walk, 00
2025-09-22 03:51, 2025-09-22 04:25, 0, taxi, 22, walk, 06
2025-09-22 04:00, 2025-09-22 04:24, 0, taxi, 24, walk, 00
2025-09-22 08:40, 2025-09-22 09:04, 0, taxi, 24, walk, 00
2025-09-22 08:45, 2025-09-22 09:18, 0, taxi, 22, walk, 05
2025-09-22 08:52, 2025-09-22 09:28, 0, taxi, 22, walk, 08
2025-09-22 09:20, 2025-09-22 09:44, 0, taxi, 24, walk, 00
)__"sv;

TEST(odm, pechernkolonie_badmuskau_monday) {
  auto const mix_result = mix(pechernkolonie_badmuskau_monday_in);
  whitelist(mix_result, from_csv(pechernkolonie_badmuskau_monday_whitelist));
  blacklist(mix_result, from_csv(pechernkolonie_badmuskau_monday_blacklist));
}

constexpr auto const kulturhotelpueckler_cottbus_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 01:59, 2025-09-22 02:58, 0, taxi, 16, walk, 05
2025-09-22 02:54, 2025-09-22 04:02, 0, taxi, 21, walk, 05
2025-09-22 03:07, 2025-09-22 05:01, 1, walk, 06, walk, 05
2025-09-22 03:54, 2025-09-22 05:01, 0, taxi, 21, walk, 05
2025-09-22 04:18, 2025-09-22 05:52, 2, walk, 05, walk, 01
2025-09-22 04:42, 2025-09-22 06:01, 1, walk, 06, walk, 05
2025-09-22 04:54, 2025-09-22 06:01, 0, taxi, 21, walk, 05
2025-09-22 05:13, 2025-09-22 06:52, 2, walk, 05, walk, 01
2025-09-22 05:42, 2025-09-22 07:01, 1, walk, 06, walk, 05
2025-09-22 05:54, 2025-09-22 07:01, 0, taxi, 21, walk, 05
2025-09-22 06:07, 2025-09-22 08:01, 1, walk, 06, walk, 05
2025-09-22 06:54, 2025-09-22 08:01, 0, taxi, 21, walk, 05
2025-09-22 07:07, 2025-09-22 09:01, 1, walk, 06, walk, 05
2025-09-22 07:18, 2025-09-22 08:52, 2, walk, 05, walk, 01
2025-09-22 07:54, 2025-09-22 09:01, 0, taxi, 21, walk, 05
2025-09-22 08:07, 2025-09-22 10:01, 1, walk, 06, walk, 05
2025-09-22 08:54, 2025-09-22 10:01, 0, taxi, 21, walk, 05
2025-09-22 09:07, 2025-09-22 11:01, 1, walk, 06, walk, 05
2025-09-22 09:14, 2025-09-22 10:52, 2, walk, 05, walk, 01
2025-09-22 09:54, 2025-09-22 11:01, 0, taxi, 21, walk, 05
2025-09-22 10:07, 2025-09-22 12:01, 1, walk, 06, walk, 05
2025-09-22 10:54, 2025-09-22 12:01, 0, taxi, 21, walk, 05
2025-09-22 11:07, 2025-09-22 13:01, 1, walk, 06, walk, 05
2025-09-22 11:14, 2025-09-22 12:52, 2, walk, 05, walk, 01
2025-09-22 11:54, 2025-09-22 13:01, 0, taxi, 21, walk, 05
2025-09-22 12:07, 2025-09-22 14:01, 1, walk, 06, walk, 05
2025-09-22 12:54, 2025-09-22 14:01, 0, taxi, 21, walk, 05
2025-09-22 13:07, 2025-09-22 15:01, 1, walk, 06, walk, 05
2025-09-22 13:14, 2025-09-22 14:52, 2, walk, 05, walk, 01
2025-09-22 13:54, 2025-09-22 15:01, 0, taxi, 21, walk, 05
2025-09-22 14:07, 2025-09-22 16:01, 1, walk, 06, walk, 05
2025-09-22 14:54, 2025-09-22 16:01, 0, taxi, 21, walk, 05
2025-09-22 15:07, 2025-09-22 17:01, 1, walk, 06, walk, 05
2025-09-22 15:14, 2025-09-22 16:52, 2, walk, 05, walk, 01
2025-09-22 15:54, 2025-09-22 17:01, 0, taxi, 21, walk, 05
2025-09-22 15:59, 2025-09-22 17:52, 1, walk, 05, walk, 01
2025-09-22 16:07, 2025-09-22 18:01, 1, walk, 06, walk, 05
2025-09-22 16:54, 2025-09-22 18:01, 0, taxi, 21, walk, 05
2025-09-22 17:07, 2025-09-22 19:01, 1, walk, 06, walk, 05
2025-09-22 17:54, 2025-09-22 19:01, 0, taxi, 21, walk, 05
2025-09-22 18:07, 2025-09-22 20:01, 1, walk, 06, walk, 05
2025-09-22 18:54, 2025-09-22 20:01, 0, taxi, 21, walk, 05
2025-09-22 19:07, 2025-09-22 21:01, 1, walk, 06, walk, 05
2025-09-22 19:54, 2025-09-22 21:01, 0, taxi, 21, walk, 05
)__"sv;

constexpr auto const kulturhotelpueckler_cottbus_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 01:59, 2025-09-22 02:58, 0, taxi, 16, walk, 05
2025-09-22 19:54, 2025-09-22 21:01, 0, taxi, 21, walk, 05
)__"sv;

TEST(odm, kulturhotelpueckler_cottbus_monday) {
  auto const mix_result = mix(kulturhotelpueckler_cottbus_monday_in);
  whitelist(mix_result, from_csv(kulturhotelpueckler_cottbus_monday_whitelist));
}

constexpr auto const goerlitzhbf_badmuskau_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 01:07, 2025-09-22 02:42, 1, walk, 03, taxi, 18
2025-09-22 01:57, 2025-09-22 03:37, 1, walk, 03, taxi, 18
2025-09-22 01:57, 2025-09-22 04:04, 2, walk, 03, walk, 08
2025-09-22 03:11, 2025-09-22 04:44, 0, walk, 01, taxi, 43
2025-09-22 03:42, 2025-09-22 04:43, 0, walk, 01, taxi, 18
2025-09-22 03:42, 2025-09-22 04:57, 1, walk, 01, taxi, 11
2025-09-22 03:42, 2025-09-22 04:59, 1, walk, 01, walk, 08
2025-09-22 04:18, 2025-09-22 05:43, 0, walk, 02, taxi, 43
2025-09-22 04:42, 2025-09-22 05:43, 0, walk, 01, taxi, 18
2025-09-22 04:42, 2025-09-22 05:57, 1, walk, 01, taxi, 14
2025-09-22 04:42, 2025-09-22 06:04, 1, walk, 01, walk, 08
2025-09-22 04:59, 2025-09-22 07:08, 1, walk, 06, taxi, 43
2025-09-22 05:42, 2025-09-22 06:43, 0, walk, 01, taxi, 18
2025-09-22 05:42, 2025-09-22 07:04, 1, walk, 01, walk, 08
2025-09-22 06:19, 2025-09-22 07:43, 0, walk, 01, taxi, 43
2025-09-22 06:42, 2025-09-22 07:43, 0, walk, 01, taxi, 18
2025-09-22 06:42, 2025-09-22 07:43, 0, walk, 01, taxi, 18
2025-09-22 06:42, 2025-09-22 07:57, 1, walk, 01, taxi, 14
2025-09-22 06:42, 2025-09-22 08:04, 1, walk, 01, walk, 08
2025-09-22 07:42, 2025-09-22 08:43, 0, walk, 01, taxi, 18
2025-09-22 07:42, 2025-09-22 09:04, 1, walk, 01, walk, 08
2025-09-22 08:19, 2025-09-22 09:43, 0, walk, 01, taxi, 43
2025-09-22 08:42, 2025-09-22 09:43, 0, walk, 01, taxi, 18
2025-09-22 08:42, 2025-09-22 09:43, 0, walk, 01, taxi, 18
2025-09-22 08:42, 2025-09-22 09:57, 1, walk, 01, taxi, 14
2025-09-22 08:42, 2025-09-22 10:04, 1, walk, 01, walk, 08
2025-09-22 09:42, 2025-09-22 10:43, 0, walk, 01, taxi, 18
2025-09-22 09:42, 2025-09-22 11:04, 1, walk, 01, walk, 08
2025-09-22 10:19, 2025-09-22 11:43, 0, walk, 01, taxi, 43
2025-09-22 10:42, 2025-09-22 11:43, 0, walk, 01, taxi, 18
2025-09-22 10:42, 2025-09-22 11:43, 0, walk, 01, taxi, 18
2025-09-22 10:42, 2025-09-22 12:00, 1, walk, 01, taxi, 14
2025-09-22 10:42, 2025-09-22 12:04, 1, walk, 01, walk, 08
2025-09-22 10:59, 2025-09-22 13:08, 1, walk, 06, taxi, 43
2025-09-22 11:42, 2025-09-22 12:43, 0, walk, 01, taxi, 18
2025-09-22 11:42, 2025-09-22 12:43, 0, walk, 01, taxi, 18
2025-09-22 11:42, 2025-09-22 13:00, 1, walk, 01, taxi, 14
2025-09-22 11:42, 2025-09-22 13:04, 1, walk, 01, walk, 08
2025-09-22 12:19, 2025-09-22 13:43, 0, walk, 01, taxi, 43
2025-09-22 12:42, 2025-09-22 13:43, 0, walk, 01, taxi, 18
2025-09-22 12:42, 2025-09-22 13:43, 0, walk, 01, taxi, 18
2025-09-22 12:42, 2025-09-22 14:00, 1, walk, 01, taxi, 14
2025-09-22 12:42, 2025-09-22 14:04, 1, walk, 01, walk, 08
2025-09-22 12:59, 2025-09-22 15:08, 1, walk, 06, taxi, 43
2025-09-22 13:42, 2025-09-22 14:43, 0, walk, 01, taxi, 18
2025-09-22 13:42, 2025-09-22 15:04, 1, walk, 01, walk, 08
2025-09-22 14:19, 2025-09-22 15:43, 0, walk, 01, taxi, 43
2025-09-22 14:42, 2025-09-22 15:43, 0, walk, 01, taxi, 18
2025-09-22 14:42, 2025-09-22 15:57, 1, walk, 01, taxi, 14
2025-09-22 14:42, 2025-09-22 16:04, 1, walk, 01, walk, 08
2025-09-22 15:42, 2025-09-22 16:43, 0, walk, 01, taxi, 18
2025-09-22 15:42, 2025-09-22 17:04, 1, walk, 01, walk, 08
2025-09-22 16:19, 2025-09-22 17:43, 0, walk, 01, taxi, 43
2025-09-22 16:42, 2025-09-22 17:43, 0, walk, 01, taxi, 18
2025-09-22 16:42, 2025-09-22 17:57, 1, walk, 01, taxi, 14
2025-09-22 16:42, 2025-09-22 18:04, 1, walk, 01, walk, 08
2025-09-22 17:42, 2025-09-22 18:43, 0, walk, 01, taxi, 18
2025-09-22 17:42, 2025-09-22 19:04, 1, walk, 01, walk, 08
2025-09-22 18:27, 2025-09-22 19:51, 0, walk, 01, taxi, 43
2025-09-22 18:42, 2025-09-22 19:43, 0, walk, 01, taxi, 18
2025-09-22 19:42, 2025-09-22 20:43, 0, walk, 01, taxi, 18
2025-09-22 19:42, 2025-09-23 04:04, 1, walk, 01, walk, 08
)__"sv;

constexpr auto const goerlitzhbf_badmuskau_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 01:07, 2025-09-22 02:42, 1, walk, 03, taxi, 18
2025-09-22 01:57, 2025-09-22 04:04, 2, walk, 03, walk, 08
2025-09-22 03:42, 2025-09-22 04:59, 1, walk, 01, walk, 08
2025-09-22 04:42, 2025-09-22 06:04, 1, walk, 01, walk, 08
2025-09-22 05:42, 2025-09-22 07:04, 1, walk, 01, walk, 08
2025-09-22 06:42, 2025-09-22 08:04, 1, walk, 01, walk, 08
2025-09-22 07:42, 2025-09-22 09:04, 1, walk, 01, walk, 08
2025-09-22 08:42, 2025-09-22 10:04, 1, walk, 01, walk, 08
2025-09-22 09:42, 2025-09-22 11:04, 1, walk, 01, walk, 08
2025-09-22 10:42, 2025-09-22 12:04, 1, walk, 01, walk, 08
2025-09-22 11:42, 2025-09-22 13:04, 1, walk, 01, walk, 08
2025-09-22 12:42, 2025-09-22 14:04, 1, walk, 01, walk, 08
2025-09-22 13:42, 2025-09-22 15:04, 1, walk, 01, walk, 08
2025-09-22 14:42, 2025-09-22 16:04, 1, walk, 01, walk, 08
2025-09-22 15:42, 2025-09-22 17:04, 1, walk, 01, walk, 08
2025-09-22 16:42, 2025-09-22 18:04, 1, walk, 01, walk, 08
2025-09-22 17:42, 2025-09-22 19:04, 1, walk, 01, walk, 08
2025-09-22 18:42, 2025-09-22 19:43, 0, walk, 01, taxi, 18
2025-09-22 19:42, 2025-09-22 20:43, 0, walk, 01, taxi, 18
2025-09-22 19:42, 2025-09-23 04:04, 1, walk, 01, walk, 08
)__"sv;

constexpr auto const goerlitzhbf_badmuskau_monday_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 03:11, 2025-09-22 04:44, 0, walk, 01, taxi, 43
2025-09-22 03:42, 2025-09-22 04:43, 0, walk, 01, taxi, 18
2025-09-22 03:42, 2025-09-22 04:57, 1, walk, 01, taxi, 11
2025-09-22 07:42, 2025-09-22 08:43, 0, walk, 01, taxi, 18
2025-09-22 12:19, 2025-09-22 13:43, 0, walk, 01, taxi, 43
2025-09-22 12:42, 2025-09-22 13:43, 0, walk, 01, taxi, 18
2025-09-22 12:42, 2025-09-22 13:43, 0, walk, 01, taxi, 18
2025-09-22 12:42, 2025-09-22 14:00, 1, walk, 01, taxi, 14
2025-09-22 14:19, 2025-09-22 15:43, 0, walk, 01, taxi, 43
2025-09-22 14:42, 2025-09-22 15:43, 0, walk, 01, taxi, 18
2025-09-22 14:42, 2025-09-22 15:57, 1, walk, 01, taxi, 14
)__"sv;

TEST(odm, goerlitzhbf_badmuskau_monday) {
  auto const mix_result = mix(goerlitzhbf_badmuskau_monday_in);
  whitelist(mix_result, from_csv(goerlitzhbf_badmuskau_monday_whitelist));
  blacklist(mix_result, from_csv(goerlitzhbf_badmuskau_monday_blacklist));
}

constexpr auto const cottbushbf_badmuskau_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 03:00, 2025-09-22 03:58, 0, walk, 03, taxi, 18
2025-09-22 03:00, 2025-09-22 04:04, 1, walk, 03, walk, 08
2025-09-22 03:05, 2025-09-22 05:45, 3, walk, 02, walk, 15
2025-09-22 03:59, 2025-09-22 04:58, 0, walk, 04, taxi, 18
2025-09-22 03:59, 2025-09-22 05:53, 2, walk, 04, walk, 08
2025-09-22 04:59, 2025-09-22 05:58, 0, walk, 04, taxi, 18
2025-09-22 04:59, 2025-09-22 06:04, 1, walk, 04, walk, 08
2025-09-22 05:59, 2025-09-22 06:58, 0, walk, 04, taxi, 18
2025-09-22 05:59, 2025-09-22 07:04, 1, walk, 04, walk, 08
2025-09-22 06:59, 2025-09-22 07:58, 0, walk, 04, taxi, 18
2025-09-22 06:59, 2025-09-22 08:04, 1, walk, 04, walk, 08
2025-09-22 07:04, 2025-09-22 09:02, 2, walk, 04, walk, 15
2025-09-22 07:59, 2025-09-22 08:58, 0, walk, 04, taxi, 18
2025-09-22 07:59, 2025-09-22 09:04, 1, walk, 04, walk, 08
2025-09-22 08:59, 2025-09-22 09:58, 0, walk, 04, taxi, 18
2025-09-22 08:59, 2025-09-22 10:04, 1, walk, 04, walk, 08
2025-09-22 09:04, 2025-09-22 11:02, 1, walk, 04, walk, 15
2025-09-22 09:05, 2025-09-22 11:02, 2, walk, 02, walk, 15
2025-09-22 09:59, 2025-09-22 10:58, 0, walk, 04, taxi, 18
2025-09-22 09:59, 2025-09-22 11:04, 1, walk, 04, walk, 08
2025-09-22 10:59, 2025-09-22 11:58, 0, walk, 04, taxi, 18
2025-09-22 10:59, 2025-09-22 12:04, 1, walk, 04, walk, 08
2025-09-22 11:04, 2025-09-22 13:02, 1, walk, 04, walk, 15
2025-09-22 11:05, 2025-09-22 13:02, 2, walk, 02, walk, 15
2025-09-22 11:59, 2025-09-22 12:58, 0, walk, 04, taxi, 18
2025-09-22 11:59, 2025-09-22 13:04, 1, walk, 04, walk, 08
2025-09-22 12:59, 2025-09-22 13:58, 0, walk, 04, taxi, 18
2025-09-22 12:59, 2025-09-22 14:04, 1, walk, 04, walk, 08
2025-09-22 13:04, 2025-09-22 15:02, 1, walk, 04, walk, 15
2025-09-22 13:59, 2025-09-22 14:58, 0, walk, 04, taxi, 18
2025-09-22 13:59, 2025-09-22 15:04, 1, walk, 04, walk, 08
2025-09-22 14:04, 2025-09-22 15:56, 1, walk, 04, taxi, 07
2025-09-22 14:04, 2025-09-22 16:00, 1, walk, 04, walk, 15
2025-09-22 14:05, 2025-09-22 15:56, 2, walk, 02, taxi, 07
2025-09-22 14:05, 2025-09-22 16:00, 2, walk, 02, walk, 15
2025-09-22 14:42, 2025-09-22 17:02, 2, walk, 05, taxi, 37
2025-09-22 15:59, 2025-09-22 16:58, 0, walk, 04, taxi, 18
2025-09-22 15:59, 2025-09-22 17:04, 1, walk, 04, walk, 08
2025-09-22 16:59, 2025-09-22 17:58, 0, walk, 04, taxi, 18
2025-09-22 16:59, 2025-09-22 18:04, 1, walk, 04, walk, 08
2025-09-22 17:59, 2025-09-22 18:58, 0, walk, 04, taxi, 18
2025-09-22 17:59, 2025-09-22 19:04, 1, walk, 04, walk, 08
2025-09-22 18:59, 2025-09-22 19:58, 0, walk, 04, taxi, 18
2025-09-22 20:00, 2025-09-22 20:58, 0, walk, 04, taxi, 18
)__"sv;

constexpr auto const cottbushbf_badmuskau_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 03:00, 2025-09-22 04:04, 1, walk, 03, walk, 08
2025-09-22 03:05, 2025-09-22 05:45, 3, walk, 02, walk, 15
2025-09-22 03:59, 2025-09-22 05:53, 2, walk, 04, walk, 08
2025-09-22 04:59, 2025-09-22 06:04, 1, walk, 04, walk, 08
2025-09-22 05:59, 2025-09-22 07:04, 1, walk, 04, walk, 08
2025-09-22 06:59, 2025-09-22 08:04, 1, walk, 04, walk, 08
2025-09-22 07:04, 2025-09-22 09:02, 2, walk, 04, walk, 15
2025-09-22 07:59, 2025-09-22 09:04, 1, walk, 04, walk, 08
2025-09-22 08:59, 2025-09-22 10:04, 1, walk, 04, walk, 08
2025-09-22 09:04, 2025-09-22 11:02, 1, walk, 04, walk, 15
2025-09-22 09:05, 2025-09-22 11:02, 2, walk, 02, walk, 15
2025-09-22 09:59, 2025-09-22 11:04, 1, walk, 04, walk, 08
2025-09-22 10:59, 2025-09-22 12:04, 1, walk, 04, walk, 08
2025-09-22 11:04, 2025-09-22 13:02, 1, walk, 04, walk, 15
2025-09-22 11:05, 2025-09-22 13:02, 2, walk, 02, walk, 15
2025-09-22 11:59, 2025-09-22 13:04, 1, walk, 04, walk, 08
2025-09-22 12:59, 2025-09-22 14:04, 1, walk, 04, walk, 08
2025-09-22 13:04, 2025-09-22 15:02, 1, walk, 04, walk, 15
2025-09-22 13:59, 2025-09-22 15:04, 1, walk, 04, walk, 08
2025-09-22 14:04, 2025-09-22 16:00, 1, walk, 04, walk, 15
2025-09-22 14:05, 2025-09-22 16:00, 2, walk, 02, walk, 15
2025-09-22 15:59, 2025-09-22 17:04, 1, walk, 04, walk, 08
2025-09-22 16:59, 2025-09-22 18:04, 1, walk, 04, walk, 08
2025-09-22 17:59, 2025-09-22 19:04, 1, walk, 04, walk, 08
2025-09-22 18:59, 2025-09-22 19:58, 0, walk, 04, taxi, 18
2025-09-22 20:00, 2025-09-22 20:58, 0, walk, 04, taxi, 18
)__"sv;

constexpr auto const cottbushbf_badmuskau_monday_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 05:59, 2025-09-22 06:58, 0, walk, 04, taxi, 18
2025-09-22 08:59, 2025-09-22 09:58, 0, walk, 04, taxi, 18
2025-09-22 12:59, 2025-09-22 13:58, 0, walk, 04, taxi, 18
)__"sv;

TEST(odm, cottbushbf_badmuskau_monday) {
  auto const mix_result = mix(cottbushbf_badmuskau_monday_in);
  whitelist(mix_result, from_csv(cottbushbf_badmuskau_monday_whitelist));
  blacklist(mix_result, from_csv(cottbushbf_badmuskau_monday_blacklist));
}

constexpr auto const badmuskau_cottbus_monday_in =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 02:00, 2025-09-22 02:57, 0, taxi, 15, walk, 04
2025-09-22 02:56, 2025-09-22 04:01, 0, taxi, 19, walk, 04
2025-09-22 03:06, 2025-09-22 05:00, 1, walk, 08, walk, 04
2025-09-22 03:56, 2025-09-22 05:00, 0, taxi, 19, walk, 04
2025-09-22 04:08, 2025-09-22 05:54, 3, walk, 15, walk, 03
2025-09-22 04:08, 2025-09-22 05:56, 2, walk, 15, walk, 05
2025-09-22 04:11, 2025-09-22 05:54, 3, taxi, 07, walk, 03
2025-09-22 04:11, 2025-09-22 05:56, 2, taxi, 07, walk, 05
2025-09-22 04:41, 2025-09-22 06:00, 1, walk, 08, walk, 04
2025-09-22 04:56, 2025-09-22 06:00, 0, taxi, 19, walk, 04
2025-09-22 05:03, 2025-09-22 06:56, 2, walk, 15, walk, 05
2025-09-22 05:06, 2025-09-22 06:56, 2, taxi, 07, walk, 05
2025-09-22 05:41, 2025-09-22 07:00, 1, walk, 08, walk, 04
2025-09-22 05:56, 2025-09-22 07:00, 0, taxi, 19, walk, 04
2025-09-22 06:06, 2025-09-22 08:00, 1, walk, 08, walk, 04
2025-09-22 06:56, 2025-09-22 08:00, 0, taxi, 19, walk, 04
2025-09-22 07:06, 2025-09-22 09:00, 1, walk, 08, walk, 04
2025-09-22 07:08, 2025-09-22 08:54, 3, walk, 15, walk, 03
2025-09-22 07:08, 2025-09-22 08:56, 2, walk, 15, walk, 05
2025-09-22 07:11, 2025-09-22 08:54, 3, taxi, 07, walk, 03
2025-09-22 07:11, 2025-09-22 08:56, 2, taxi, 07, walk, 05
2025-09-22 07:56, 2025-09-22 09:00, 0, taxi, 19, walk, 04
2025-09-22 08:06, 2025-09-22 10:00, 1, walk, 08, walk, 04
2025-09-22 08:56, 2025-09-22 10:00, 0, taxi, 19, walk, 04
2025-09-22 09:04, 2025-09-22 10:54, 3, walk, 15, walk, 03
2025-09-22 09:04, 2025-09-22 10:56, 2, walk, 15, walk, 05
2025-09-22 09:06, 2025-09-22 11:00, 1, walk, 08, walk, 04
2025-09-22 09:07, 2025-09-22 10:54, 3, taxi, 07, walk, 03
2025-09-22 09:07, 2025-09-22 10:56, 2, taxi, 07, walk, 05
2025-09-22 12:06, 2025-09-22 14:00, 1, walk, 08, walk, 04
2025-09-22 10:06, 2025-09-22 12:00, 1, walk, 08, walk, 04
2025-09-22 10:56, 2025-09-22 12:00, 0, taxi, 19, walk, 04
2025-09-22 11:04, 2025-09-22 12:56, 2, walk, 15, walk, 05
2025-09-22 11:06, 2025-09-22 13:00, 1, walk, 08, walk, 04
2025-09-22 11:07, 2025-09-22 12:52, 3, taxi, 07, walk, 03
2025-09-22 11:07, 2025-09-22 12:56, 2, taxi, 07, walk, 05
2025-09-22 11:56, 2025-09-22 13:00, 0, taxi, 19, walk, 04
2025-09-22 12:06, 2025-09-22 14:00, 1, walk, 08, walk, 04
2025-09-22 12:56, 2025-09-22 14:00, 0, taxi, 19, walk, 04
2025-09-22 13:04, 2025-09-22 14:54, 3, walk, 15, walk, 03
2025-09-22 13:04, 2025-09-22 14:56, 2, walk, 15, walk, 05
2025-09-22 13:06, 2025-09-22 15:00, 1, walk, 08, walk, 04
2025-09-22 13:07, 2025-09-22 14:54, 3, taxi, 07, walk, 03
2025-09-22 13:07, 2025-09-22 14:56, 2, taxi, 07, walk, 05
2025-09-22 13:56, 2025-09-22 15:00, 0, taxi, 19, walk, 04
2025-09-22 14:06, 2025-09-22 16:00, 1, walk, 08, walk, 04
2025-09-22 14:56, 2025-09-22 16:00, 0, taxi, 19, walk, 04
2025-09-22 15:04, 2025-09-22 16:54, 3, walk, 15, walk, 03
2025-09-22 15:04, 2025-09-22 16:56, 2, walk, 15, walk, 05
2025-09-22 15:06, 2025-09-22 17:00, 1, walk, 08, walk, 04
2025-09-22 15:07, 2025-09-22 16:54, 3, taxi, 07, walk, 03
2025-09-22 15:07, 2025-09-22 16:56, 2, taxi, 07, walk, 05
2025-09-22 15:49, 2025-09-22 17:54, 2, walk, 15, walk, 03
2025-09-22 15:49, 2025-09-22 17:56, 1, walk, 15, walk, 05
2025-09-22 15:56, 2025-09-22 17:00, 0, taxi, 19, walk, 04
2025-09-22 16:06, 2025-09-22 18:00, 1, walk, 08, walk, 04
2025-09-22 16:56, 2025-09-22 18:00, 0, taxi, 19, walk, 04
2025-09-22 17:06, 2025-09-22 19:00, 1, walk, 08, walk, 04
2025-09-22 17:56, 2025-09-22 19:00, 0, taxi, 19, walk, 04
2025-09-22 18:06, 2025-09-22 20:00, 1, walk, 08, walk, 04
2025-09-22 18:56, 2025-09-22 20:00, 0, taxi, 19, walk, 04
2025-09-22 19:06, 2025-09-22 21:00, 1, walk, 08, walk, 04
2025-09-22 19:56, 2025-09-22 21:00, 0, taxi, 19, walk, 04
)__"sv;

constexpr auto const badmuskau_cottbus_monday_whitelist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 02:00, 2025-09-22 02:57, 0, taxi, 15, walk, 04
2025-09-22 02:56, 2025-09-22 04:01, 0, taxi, 19, walk, 04
2025-09-22 19:56, 2025-09-22 21:00, 0, taxi, 19, walk, 04
)__"sv;

constexpr auto const badmuskau_cottbus_monday_blacklist =
    R"__(departure, arrival, transfers, first_mile_mode, first_mile_duration, last_mile_mode, last_mile_duration
2025-09-22 04:11, 2025-09-22 05:54, 3, taxi, 07, walk, 03
2025-09-22 04:11, 2025-09-22 05:54, 3, taxi, 07, walk, 03
2025-09-22 13:07, 2025-09-22 14:54, 3, taxi, 07, walk, 03
2025-09-22 13:07, 2025-09-22 14:56, 2, taxi, 07, walk, 05
2025-09-22 15:07, 2025-09-22 16:54, 3, taxi, 07, walk, 03
2025-09-22 15:07, 2025-09-22 16:56, 2, taxi, 07, walk, 05
)__"sv;

TEST(odm, badmuskau_cottbus_monday) {
  auto const mix_result = mix(badmuskau_cottbus_monday_in);
  whitelist(mix_result, from_csv(badmuskau_cottbus_monday_whitelist));
  blacklist(mix_result, from_csv(badmuskau_cottbus_monday_blacklist));
}